---
theme: seriph
background: https://source.unsplash.com/collection/94734566/1920x1080
class: "text-center"
lineNumbers: false
info: |
  ## ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆp5.jsï¼‰è¬›ç¾©è³‡æ–™#13
  VANTAN Techgord Academy
  Created by [@kuwahara_jsri](https://twitter.com/kuwahara_jsri)
fonts:
  sans: "Josefin Sans"
  serif: "Noto Sans JP"
  mono: "Fira Code"
drawings:
  persist: false
highlighter: prism-xonokai
title: ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆp5.jsï¼‰è¬›ç¾©
css: unocss
---

# ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆp5.jsï¼‰è¬›ç¾©

VANTAN Techford Academy

### #13 è¤‡é›‘ãªå›³å½¢ã‚’æãï¼Œæ¡œã‚’æã

<div class="pt-12">
  <span @click="$slidev.nav.next" class="px-2 py-1 rounded cursor-pointer" hover="bg-white bg-opacity-10">
    Press Space for next page <carbon:arrow-right class="inline"/>
  </span>
</div>

<div class="abs-br m-6 flex gap-2">
  <button @click="$slidev.nav.openInEditor()" title="Open in Editor" class="text-xl icon-btn opacity-50 !border-none !hover:text-white">
    <carbon:edit />
  </button>
  <a href="https://github.com/kkeeth/vantan-techford-p5js-slide" target="_blank" alt="GitHub"
    class="text-xl icon-btn opacity-50 !border-none !hover:text-white">
    <carbon-logo-github />
  </a>
</div>

---
layout: center
class: text-center
---

# å‡ºå¸­ ğŸ™‹

---
layout: center
---

# ä»Šæ—¥è©±ã™ã“ã¨ğŸ“‹

---

# â–¼ å‰åŠ: å„ç¨®ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†/ãƒ•ã‚©ãƒ¼ãƒ  åŸºç¤

<br />


## ğŸ‘‰ è»½ãå‰å›ã®å¾©ç¿’
<br />

## ğŸ‘‰ p5.js ã§ã®ãƒ•ã‚©ãƒ¼ãƒ éƒ¨å“

<br />

## ğŸ‘‰ ãƒãƒ©æ›²ç·šã‚’æã„ã¦ã¿ã‚ˆã†

---

# â–¼ å¾ŒåŠ: vertex ã‚’ç”¨ã„ã¦æ¡œã‚’æã

<br />

## ğŸ‘‰ vertex ãƒ¡ã‚½ãƒƒãƒ‰

* `beginShape(), endShape()`
* `vertex()`

<br />

## ğŸ‘‰ ãƒãƒ©æ›²ç·šã‚’ç”¨ã„ã¦æ¡œã‚’æã

---
layout: center
---

# æˆæ¥­è³‡æ–™ğŸ“‹
<br />

[https://vantan-techford-p5js-slide.vercel.app/](https://vantan-techford-p5js-slide.vercel.app/)

<br />

<img width="600" class="mx-auto" src="/assets/1/text.png" alt="è¬›ç¾©è³‡æ–™" />

---
layout: center
---

# è»½ãå‰å›ã®å¾©ç¿’ğŸ“

---
layout: center
---

# ã‚¤ãƒ™ãƒ³ãƒˆã¨ã¯ï¼Ÿ

---

# ã‚¤ãƒ™ãƒ³ãƒˆã¨ã¯ï¼Ÿ

#### __ã‚¤ãƒ™ãƒ³ãƒˆ__ ã¨ã¯æˆ‘ã€…ãŒãƒ—ãƒ­ã‚°ãƒ©ãƒ ã—ã¦ã„ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚„ã‚¢ãƒ—ãƒªã®ä¸­ã§ç”Ÿã˜ãŸå‹•ä½œã‚„å‡ºæ¥äº‹ã®ã“ã¨ğŸ’

<br />

ä»¥ä¸‹ï¼ŒWeb ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ã®ã‚¤ãƒ™ãƒ³ãƒˆã®ä¾‹ï¼

* PC ã®ç”»é¢ä¸Šã§ãƒã‚¦ã‚¹ã‚’ç”¨ã„ã¦ãƒœã‚¿ãƒ³ã‚’æŠ¼ä¸‹
* ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ä½•ã‹ã—ã‚‰ã®ã‚­ãƒ¼ã‚’æŠ¼ä¸‹
* Web ãƒšãƒ¼ã‚¸ã®ãƒ­ãƒ¼ãƒ‰ã®å®Œäº†
* ãƒ–ãƒ©ã‚¦ã‚¶ã®ç”»é¢ã‚’ãƒªã‚µã‚¤ã‚ºã—ãŸã‚Šé–‰ã˜ãŸã‚Š
* ã‚¨ãƒ©ãƒ¼ã®ç™ºç”Ÿ

ãªã©ãªã©ï¼
ä½•ã‹ã—ã‚‰ã®æ“ä½œã«ã‚ˆã‚Šç™ºç”Ÿã™ã‚‹å‡ºæ¥äº‹å…¨èˆ¬ã§ã™ï¼

---

# Web ä¸Šã®ã‚¤ãƒ™ãƒ³ãƒˆã®ä¸€è¦§

#### Web ã®å ´åˆï¼Œã‚¤ãƒ™ãƒ³ãƒˆã¯ãƒ–ãƒ©ã‚¦ã‚¶ã®ç”»é¢ã®ä¸­ã§ç™ºç«ã•ã‚Œï¼Œãã‚Œãã‚Œã®æ“ä½œã«å¿œã˜ã¦åˆ©ç”¨å¯èƒ½ãª __ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠï¼‰__ ã¨å‘¼ã°ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹ï¼ã“ã‚Œã‚’å®šç¾©ã™ã‚‹ã“ã¨ã‚’ __ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’ç™»éŒ²ã™ã‚‹__ ã¨è¨€ã£ãŸã‚Šã™ã‚‹ï¼

<br />

å¤šãã®ã‚¤ãƒ™ãƒ³ãƒˆãŒã‚ã‚Šã¾ã™ã®ã§èˆˆå‘³ã‚ã‚‹æ–¹ã¯ [ã‚¤ãƒ™ãƒ³ãƒˆãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](https://developer.mozilla.org/ja/docs/Web/Events) ã‚’ã”å‚ç…§ãã ã•ã„ğŸ’

---

# ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©

#### ä½•ã‹ã—ã‚‰ã®ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«æ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ 

ä¾‹ã¨ã—ã¦ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã®ï¼Œ `ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ` ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ğŸ’

```html
<body>
  <button>Change color</button>

  <script>
    // buttonè¦ç´ ã® DOM ã‚’å–å¾—
    const btn = document.querySelector('button');

    const random = (number) => {
      return Math.floor(Math.random() * (number + 1));
    }

    // ã“ã“ã§ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠã‚’ã‚»ãƒƒãƒˆ
    btn.onclick = function() {
      const rndCol = `rgb(${random(255)}, ${random(255)}, ${random(255)})`;
      document.body.style.backgroundColor = rndCol;
    }
  </script>
</body>
```

---

# ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©
<br />

ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦å®šç¾©ã—ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã¯ï¼Œå…ˆç¨‹ã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã„ã¦ã‚‚åŒã˜ã§ã™ï¼

```js
  const btn = document.querySelector('button');

  const bgChange = () => {
    const rndCol = `rgb(${random(255)}, ${random(255)}, ${random(255)})`;
    document.body.style.backgroundColor = rndCol;
  };

  btn.onclick = bgChange;
```


---

# ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠ

#### __ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠ__ ã¯ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®åˆ¥åã¨èª¬æ˜ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ãŒå³å¯†ã«ã¯åˆ¥ç‰©ã§ã™ï¼

<br />

* `ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠ`: ã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºç”Ÿã‚’ç›£è¦–ã—å‹•ä½œã™ã‚‹ã‚³ãƒ¼ãƒ‰
* `ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©`: ç™ºç”Ÿã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã®å¿œç­”ã¨ã—ã¦å‹•ä½œã™ã‚‹ã‚³ãƒ¼ãƒ‰

<br />

çµæœçš„ã«ã¯æˆ‘ã€…ã®ç›®ã‹ã‚‰è¦‹ã‚‹ã¨åŒã˜çµæœã«ãªã‚‹äº‹ãŒå¤šã„ã®ã§ä¸€ç·’ã¨èª¬æ˜ã•ã‚Œã‚‹ã“ã¨ã‚‚å¤šã„ã‚ˆã†ã§ã™ï¼

---

# ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠ

#### å…ˆç¨‹ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’å°‘ã—å¤‰å½¢ã—ãŸã‚³ãƒ¼ãƒ‰ä¾‹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ğŸ’

```js
  // buttonè¦ç´ ã® DOM ã‚’å–å¾—
  const btn = document.querySelector('button');

  const random = (number) => {
    return Math.floor(Math.random() * (number + 1));
  }

  const bgChange = () => {
    const rndCol = `rgb(${random(255)}, ${random(255)}, ${random(255)})`;
    document.body.style.backgroundColor = rndCol;
  }

  // ã“ã“ã§ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’ã‚»ãƒƒãƒˆ
  btn.addEventListener('click', bgChange);
```

---

# ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ© ã¨ ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠã®ã‚³ãƒ¼ãƒ‰ã®é•ã„
<br />

â–¼ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©

```js
myElement.onclick = functionA;
myElement.onclick = functionB;
```

ã“ã¡ã‚‰ã®å ´åˆï¼ŒfunctionA ã¯ functionB ã§ä¸Šæ›¸ãã•ã‚Œã¦ã—ã¾ã†ï¼

<br />

â–¼ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠ

```js
myElement.addEventListener('click', functionA);
myElement.addEventListener('click', functionB);
```

ã“ã¡ã‚‰ã®å ´åˆã¯ï¼ŒfunctionA, B å…±ã«å®Ÿè¡Œã•ã‚Œã‚‹ï¼

---
layout: center
---

# p5.js ã§ãƒã‚¦ã‚¹æ“ä½œ

---

# p5.js ã§ãƒã‚¦ã‚¹æ“ä½œ

#### ãƒã‚¦ã‚¹æ“ä½œã®çµ„ã¿è¾¼ã¿é–¢æ•°ã‚„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯æ€ã£ãŸã‚ˆã‚ŠãŸãã•ã‚“ã‚ã‚‹ğŸ’ï¼ˆä¸€éƒ¨æŠœç²‹ï¼‰

<br />

* movedX: ãƒ©ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ã¨ç¾åœ¨ã®ãƒã‚¦ã‚¹ã®Xåº§æ¨™ã®å·®
* movedY: ãƒ©ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ã¨ç¾åœ¨ã®ãƒã‚¦ã‚¹ã®Yåº§æ¨™ã®å·®
* mouseX: ãƒã‚¦ã‚¹ã®Xåº§æ¨™
* mouseY: ãƒã‚¦ã‚¹ã®Yåº§æ¨™
* pmouseX: ãƒ©ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ã¨ç¾åœ¨ã®ãƒã‚¦ã‚¹ã®Xåº§æ¨™ã®å·®
* pmouseY: ãƒ©ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ã¨ç¾åœ¨ã®ãƒã‚¦ã‚¹ã®Yåº§æ¨™ã®å·®
* mouseIsPressed: ãƒã‚¦ã‚¹ã‚¯ãƒªãƒƒã‚¯ã®çŠ¶æ…‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
* mouseMoved(): ãƒã‚¦ã‚¹ãŒç§»å‹•ã—ãŸã‹ã®åˆ¤å®šå‡¦ç†
* mouseDragged(): ãƒã‚¦ã‚¹ãƒ‰ãƒ©ãƒƒã‚°ã—ãŸã‹ã®åˆ¤å®šå‡¦ç†
* mousePressed(): ãƒã‚¦ã‚¹ã‚’æŠ¼ã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å‘¼ã°ã‚Œã‚‹
* mouseClicked(): ãƒã‚¦ã‚¹ã‚’æŠ¼ã—ã¦é›¢ã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å‘¼ã°ã‚Œã‚‹

ã“ã‚Œã‚‰ä»¥å¤–ã«ã‚‚ã„ãã¤ã‹ã‚ã‚‹ã®ã§è¦‹ã¦ã¿ã¦ãã ã•ã„ï¼

---
layout: center
---

# p5.js ã§ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ

---

# p5.js ã§ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ

#### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã®çµ„ã¿è¾¼ã¿é–¢æ•°ã‚„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯æ€ã£ãŸã‚ˆã‚Šå°‘ãªã„ğŸ’

<br />

* keyIsPressed: ã‚­ãƒ¼ã®çŠ¶æ…‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
* key: æŠ¼ã•ã‚ŒãŸã‚­ãƒ¼æƒ…å ±ã‚’å–å¾—
* keyCode: æŠ¼ã•ã‚ŒãŸã‚­ãƒ¼ã®ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
* keyPressed(): ã‚­ãƒ¼ã‚’æŠ¼ã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å‘¼ã°ã‚Œã‚‹
* keyReleased(): ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦è©±ã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å‘¼ã°ã‚Œã‚‹
* keyTyped(): ã‚­ãƒ¼ã‚’æŠ¼ã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å‘¼ã°ã‚Œã‚‹ï¼ˆãŸã ã—ï¼Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ã‚’é™¤ãï¼‰
* keyIsDown(): æŒ‡å®šã—ãŸã‚­ãƒ¼ãŒæŠ¼ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å‘¼ã°ã‚Œã‚‹

ã“ã‚ŒãŒå…¨ã¦ã§ï¼Œãƒã‚¦ã‚¹ã«æ¯”ã¹ã‚‹ã¨å°‘ãªã‚ã§ã™ã­ï¼

---
layout: center
---

# p5.js ã§ DOM æ“ä½œ

---

# p5.js ã§ DOM æ“ä½œ

#### DOM æ“ä½œã®çµ„ã¿è¾¼ã¿é–¢æ•°ã‚„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚‚æ€ã£ãŸã‚ˆã‚ŠãŸãã•ã‚“ã‚ã‚‹ğŸ’ï¼ˆä¸€éƒ¨æŠœç²‹ï¼‰

<br />

* crateInput(): å…¥åŠ›è¦ç´ ã‚’ç”Ÿæˆ
* input(): å…¥åŠ›è¦ç´ ã«å…¥åŠ›ã•ã‚ŒãŸå€¤ã‚’è¦ç´ ã«ã‚»ãƒƒãƒˆã™ã‚‹
* createButton(): ãƒœã‚¿ãƒ³è¦ç´ ã‚’ç”Ÿæˆ
* createSlider(): ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼è¦ç´ ã‚’ç”Ÿæˆ
* createElement(): ä»»æ„ã® HTML è¦ç´ ã‚’ç”Ÿæˆ

<br />

p5.js ã§ã‚ˆãä½¿ã†ã‚‚ã®ã¯ã“ã®è¾ºã‚Šã‹ãªãƒ¼ã¨è¨€ã†ã®ãŒå€‹äººã®æ„Ÿè¦šã§ã™ï¼

---
layout: center
---

# ãƒ•ã‚©ãƒ¼ãƒ å‘¨ã‚Šã® HTML è¦ç´ 

---

# ãƒ•ã‚©ãƒ¼ãƒ å‘¨ã‚Šã® HTML è¦ç´ 

#### ãŸãã•ã‚“ã® HTML è¦ç´ ãŒã‚ã‚‹ãŒï¼Œã‚ˆãä½¿ã†ã‚‚ã®ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—

- `button`
- `input` ç³»
  - `text`, `password`, `email`, `number`
  - `submit`
  - `checkbox`, `radio`, `label`
  - `date`
  - `range`
- `form`
- `select`, `option`

HTML ã‚‚è‰²ã€…ã‚ã‚‹ã®ã§çš†ã•ã‚“ã§è§¦ã£ã¦ã¿ã¦ãã ã•ã„ğŸ’

---
layout: center
---

# å‰å›ä½œã£ãŸã‚‚ã®ã€ŒãŠãˆã‹ããƒœãƒ¼ãƒ‰ã€ ğŸ’

---

<img src="/assets/12/today-art.png" alt="æœ¬æ—¥ã®ä½œå“" width="800" class="mx-auto" />

ã‚³ãƒ¼ãƒ‰ã¯ [ã“ã¡ã‚‰](https://openprocessing.org/sketch/1753931) ã‚’ã”å‚ç…§ãã ã•ã„ ğŸ™‡

---
layout: center
---

# ã§ã¯ï¼Œæœ¬æ—¥ã®æˆæ¥­ã¸GO ğŸš€

---
layout: center
---

# p5.js ã§ã®ãƒ•ã‚©ãƒ¼ãƒ éƒ¨å“

<style>
h1 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
</style>

---
layout: center
---

# å‰å›è§¦ã‚Œãªã‹ã£ãŸãƒ•ã‚©ãƒ¼ãƒ ã®ã„ãã¤ã‹ã«è§¦ã‚Œã¾ã™ğŸ’

---

# å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ï¼š`createInput()`

```js
/**
 * syntax
 * @param {string} value - åˆæœŸå€¤ï¼Œä»»æ„ã®æ–‡å­—åˆ—
 * @param {string} type - <input> è¦ç´ ã®ç¨®é¡ã‚’æŒ‡å®š e.g. text, password, number
 */
const input = createInput(value, [type])

/**
 * æ¨ªå¹…ã‚’æŒ‡å®š
 * @param {number} num - æ¨ªå¹…
 */
input.size(num);

/**
 * é…ç½®å ´æ‰€ã‚’çµ¶å¯¾å€¤ã§æŒ‡å®š
 * @param {number} x - xåº§æ¨™
 * @param {number} y - yåº§æ¨™
 */
input.position(x, y)

// å€¤ã‚’å–å¾—
const hoge = input.value();
```

---

# ãƒœã‚¿ãƒ³ï¼š`createButton()`

```js
/**
 * syntax
 *
 * @param {string} label - ãƒœã‚¿ãƒ³ã®ãƒ©ãƒ™ãƒ«æ–‡è¨€ã‚’æŒ‡å®š
 * @param {string} value - å€¤ï¼ˆã‚ã¾ã‚Šè¨­å®šã™ã‚‹ã“ã¨ã¯ãªã„ã‹ã‚‚ï¼‰
 */
const button = createButton(label, [value]);

/**
 * ãƒã‚¦ã‚¹ã§ãƒœã‚¿ãƒ³æŠ¼ä¸‹ã—ãŸã¨ãã®æŒ™å‹•ã‚’æŒ‡å®š
 *
 * @param {funciton} fn - é–¢æ•°
 */
button.mousePressed(fn);
```

---
layout: center
---

# ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

---

# ã“ã‚“ãªã‚„ã¤

<div class="flex mt-10">
  <img src="/assets/13/input-button.png" class="w-1/2" />
  <img src="/assets/13/input-button-show.png" class="w-1/2" />
</div>

---

# `createInput(), createButton()` ã®å…¬å¼ã‚µãƒ³ãƒ—ãƒ«

<br />

[å…¬å¼ã®ã‚µãƒ³ãƒ—ãƒ«](https://p5js.org/examples/dom-input-and-button.html) ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ğŸ’

```js
let input, button, greeting;

function setup() {
  createCanvas(710, 400);

  input = createInput('');
  input.position(20, 65);

  button = createButton('submit');
  button.position(input.x + input.width, 65);
  button.mousePressed(greet);

  greeting = createElement('h2', 'what is your name?');
  greeting.position(20, 5);

  textAlign(CENTER);
  textSize(50);
}
ï¼ˆç¶šãï¼‰
```

---

```js
ï¼ˆç¶šãï¼‰

function greet() {
  const name = input.value();
  greeting.html('hello ' + name + '!');
  input.value('');

  for (let i = 0; i < 200; i++) {
    push();
    fill(random(255), 255, 255);
    translate(random(width), random(height));
    rotate(random(2 * PI));
    text(name, 0, 0);
    pop();
  }
}
```

---

# ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼š`createSlider()`

```js
/**
 * syntax
 *
 * @param {number} min - æœ€å°å€¤
 * @param {number} max - æœ€å¤§å€¤
 * @param {number} value - åˆæœŸå€¤
 * @param {number} step - ãƒ¡ãƒ¢ãƒªã®ã‚µã‚¤ã‚º
 *
 */
const slider = createSlider(min, max, [value], [step]);
```

â€» åŸºæœ¬çš„ã«ã¯ã©ã®ãƒ•ã‚©ãƒ¼ãƒ éƒ¨å“ã‚‚ `.position(), .style()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯åˆ©ç”¨å¯èƒ½ã§ã™ ğŸ’

---
layout: center
---

# ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

---

# ã“ã‚“ãªã‚„ã¤

<img src="/assets/13/slider.png" class="mx-auto" width="800" />

---

# `createSlider()` ã®å…¬å¼ã‚µãƒ³ãƒ—ãƒ«

```js
let rSlider, gSlider, bSlider;

function setup() {
  createCanvas(710, 400);
  textSize(15);

  rSlider = createSlider(0, 255, 100);
  rSlider.position(20, 20);
  gSlider = createSlider(0, 255, 0);
  gSlider.position(20, 50);
  bSlider = createSlider(0, 255, 255);
  bSlider.position(20, 80);
}

function draw() {
  const r = rSlider.value();
  const g = gSlider.value();
  const b = bSlider.value();
  background(r, g, b);
  text('red', rSlider.x * 2 + rSlider.width, 35);
  text('green', gSlider.x * 2 + gSlider.width, 65);
  text('blue', bSlider.x * 2 + bSlider.width, 95);
}
```

---
layout: center
---

# ãƒãƒ©æ›²ç·šã‚’æã„ã¦ã¿ã‚ˆã†

<style>
h1 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
</style>

---

# ãƒãƒ©æ›²ç·šã¨ã¯ï¼Ÿ

<br />

æ¥µåº§æ¨™ `(r, Î¸)` ã«ãŠã„ã¦ï¼Œä»¥ä¸‹ã®æ–¹ç¨‹å¼ã§è¡¨ã•ã‚Œã‚‹æ›²ç·šã®ã“ã¨ğŸ’

<img src="/assets/13/rose-equation.png" class="mx-auto" width="400" />


å®Ÿéš›ã®ãƒ—ãƒ­ãƒƒãƒˆã¯ã“ã‚“ãªæ„Ÿã˜ â†’

---

<img src="/assets/13/Rose.svg" class="mx-auto" width="420" />

[ç”»åƒå…ƒ: wikipedia](https://commons.wikimedia.org/wiki/File:Rose.svg#/media/ãƒ•ã‚¡ã‚¤ãƒ«:Rose.svg)

---

# ã“ã“ã§ã„ã¤ã‚‚ã® editor ã‚’é–‹ãã¾ã™

#### æ‰‹ã‚’å‹•ã‹ã›ã‚‹æ–¹ã¯ä¸€ç·’ã«æ›¸ã„ã¦ã¿ã¾ã—ã‚‡ã†ğŸ™‹

<br />

<img src="/assets/12/editor-p5js.png" alt="editor p5.jsã®ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£" width="800" />

---

# å®Ÿéš›ã«æã„ã¦ã¿ã‚‹

```js
const radius = 150;
let n = 1;
let d = 1;
let x = 0;
let y = 0;
let range = 0;

function setup() {
  createCanvas(windowWidth, windowHeight);
  stroke(255)
  strokeWeight(4);
}

function draw() {
  background(0);
  translate(width / 2, height / 2);

  for (let a = 0; a < d * TAU; a += 0.01) {
    range = radius * sin(a * (n / d));
    x = range * cos(a);
    y = range * sin(a);
    point(x, y)
  }
}
```

---

ã“ã®çŠ¶æ…‹ã§ **å††ãŒæã‘ã¦ã„ãŸ** ã‚‰æ­£ã—ã„ã§ã™ğŸ’

å¾Œã¯å…ˆç¨‹ã®ã‚³ãƒ¼ãƒ‰ã® `n, d` ã®å€¤ã‚’è‰²ã€…å¤‰ãˆã¦ã¿ã‚‹ã¨æœ¬æ¥æããŸã‹ã£ãŸã‚‚ã®ãŒæã‘ã¾ã™ã®ã§ï¼Œã‚„ã£ã¦ã¿ã¾ã—ã‚‡ã†ğŸ™‹

```diff
  function setup() {
    createCanvas(windowWidth, windowHeight);
    stroke(255)
    strokeWeight(4);
+   frameRate(1);
  }

  function draw() {
  ï¼ˆä¸­ç•¥ï¼‰
+   d++
+   if (d > 9) {
+     n++;
+     d = 1
+   }
+   if (n > 9) {
+     n = 1
+   }
  }
```

---

# ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŒ–
<br />
ã“ã‚Œã§ã‚‚ç¾ã—ã„ã§ã™ãŒè¦‹ã¦ã„ã¦é¢ç™½ããªã„ã®ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã§æãã‚ˆã†ã«å¤‰æ›´ã—ã¦ã¿ã¾ã—ã‚‡ã† ğŸ™‹

```diff
  function setup() {
    createCanvas(windowWidth, windowHeight);
    stroke(255)
    strokeWeight(4);
-   frameRate(1);
+   background(0);
  }

  function draw() {
-   background(0);

  ï¼ˆä¸­ç•¥ï¼‰
-   d++
-   if (d > 9) {
-     n++;
-     d = 1
-   }
-   if (n > 9) {
-     n = 1
-   }
  }
```

---

# ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŒ–ï¼ˆç¶šãï¼‰

```diff
+ let angle = 0;

  function setup() {
    ï¼ˆä¸­ç•¥ï¼‰
+   angleMode(DEGREES);
  }

  function draw() {
    background(0);
    translate(width / 2, height / 2);

-   for (let a = 0; a < d * TAU; a += 0.01) {
-     range = radius * sin(a * (n / d));
+   range = radius * sin(angle * (n / d));
-     x = range * cos(a);
+   x = range * cos(angle);
-     y = range * sin(a);
+   y = range * sin(angle);
-     point(x, y)
+   point(x, y)
-   }
+   angle++;
  }
```

---

# ã“ã†ãªã£ã¦ã‚Œã° OK ğŸ‘

ä¾‹ï¼š `n = 9, d = 4`

<img src="/assets/13/rose-curve-dotted.png" class="mx-auto mt-2" alt="ç‚¹æã®ãƒ—ãƒ­ãƒƒãƒˆä¾‹" />

---

# ç‚¹æã§ã¯ãªãï¼Œç·šæã«å¤‰æ›´

<br />
ç‚¹æã§ã‚‚ç¾ã—ã„ã§ã™ãŒï¼Œç·šæã‚‚ç¾ã—ã„ã®ã§å¤‰æ›´ã—ã¾ã™ ğŸ™‹ã¤ã„ã§ã«é€Ÿåº¦ã‚‚ä¸Šã’ã¾ã™ï¼

```diff
  let x = 0;
  let y = 0;
+ let bx = 0;
+ let by = 0;

  function draw() {
    ï¼ˆä¸­ç•¥ï¼‰

+  bx = x;
+  by = y;
   x = range * cos(angle);
   y = range * sin(angle);
-  point(x, y);
+  line(bx, by, x, y);
-  angle += 2;
+  angle += 4;
  }
```

---

# ã“ã†ãªã£ã¦ã‚Œã° OK ğŸ‘

ä¾‹ï¼š `n = 9, d = 4`

<img src="/assets/13/rose-curve-lined.png" class="mx-auto mt-2" alt="ç·šæã®ãƒ—ãƒ­ãƒƒãƒˆä¾‹" />

---

# æ™‚é–“ãŒä½™ã£ãŸã‚‰ï¼šè‰²ã‚’å¤‰ãˆã¦ã¿ã‚‹
<br />

ãŠæ±ºã¾ã‚Šã® `HSB` ãƒ¢ãƒ¼ãƒ‰ã§ãƒ©ãƒ³ãƒ€ãƒ ã«ğŸ˜‚

```diff
  function setup() {
    createCanvas(windowWidth, windowHeight);
-   stroke(255)
    strokeWeight(4);
-   background(0);
+   background(100);
    angleMode(DEGREES);
+   colorMode(HSB, 100);
  }

  function draw() {
    translate(width / 2, height / 2);
+   stroke(frameCount % 100, 100, 100);
  }
```

---

# ã“ã†ãªã£ã¦ã‚Œã° OK ğŸ‘

ä¾‹ï¼š `n = 9, d = 4`

<img src="/assets/13/rose-curve-lined-color.png" class="mx-auto mt-2" alt="ç·šæã®ãƒ—ãƒ­ãƒƒãƒˆä¾‹" />

---

# ä½™è«‡
<br />

æœ€å¾Œã« `rotate()` ã¨ã‹ï¼Œ`translate()` ã®åº§æ¨™ä½ç½®ã‚’å¤‰æ›´ã—ã¦ã„ãã¨ã‹ï¼Œ`angle` ã®å€¤ã‚’ã‚‚ã£ã¨å¤§ããã™ã‚‹ã¨ï¼Œã©ã‚“ã©ã‚“æ›²ç·šãŒå¤‰åŒ–ã—ï¼Œãƒãƒ©æ›²ç·šã®é•ã£ãŸé¢ã‚’å‘³ã‚ãˆã‚‹ã®ã§ï¼Œæ¥½ã—ã‚“ã§ã¿ã¦ãã ã•ã„ğŸ’

```js
// å›è»¢
rotate(frameCount / 5);

// ä¸­å¿ƒåº§æ¨™ã‚’å‹•ã‹ã™
translate(width / 2 + 70 * cos(frameCount / 5), height / 2 + 70 * sin(frameCount / 5));

// angle ã®åŠ ç®—ã®å€¤ã‚’å¤§ããã™ã‚‹
angle += 30;
```

---
layout: center
---

# vartex() ãƒ¡ã‚½ãƒƒãƒ‰

<style>
h1 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
</style>

---

# `vertex()` ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã¯ï¼Ÿ
<br />

ãã®åã®é€šã‚Šå¤šè§’å½¢ã® `vertexï¼šé ‚ç‚¹` ã‚’æŒ‡å®šã™ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰ğŸ’

ä»¥ä¸‹ã®ã‚ˆã†ã« `beginShape(), endShape()` ã¨ã‚»ãƒƒãƒˆã§ä½¿ã†ã“ã¨ã‚’å‰æã¨ã—ã¾ã™ï¼

```js
/**
 * syntax
 *
 * @param {number} x - xåº§æ¨™
 * @param {number} y - yåº§æ¨™
 * @param {number} z - zåº§æ¨™ â€»WEBGLãƒ¢ãƒ¼ãƒ‰ã®ã¿ï¼Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ 0
 */
beginShape();

vertex(x, y, [z]); // ã“ã‚ŒãŒè¤‡æ•°å›ã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸

endShape();
```

---

# `beginShape(), endShape()` ãƒ¡ã‚½ãƒƒãƒ‰

<br />

ã“ã¡ã‚‰ã‚‚åå‰ã®é€šã‚Šï¼Œå›³å½¢æç”»ã®é–‹å§‹ã¨çµ‚äº†ã®å®£è¨€ï¼

```js
/**
 * syntax
 *
 * @param {constant} kind - å›³å½¢ã®ç¨®é¡ã‚’æŒ‡å®šï¼POINTS, LINES, TRIANGLE_STRIPâ€¦etc
 */
beginShape([kind]);

/**
 * syntax
 *
 * @param {constant} mode - å›³å½¢ã‚’é–‰ã˜ã‚‹ã‹ã©ã†ã‹ã‚’æŒ‡å®šï¼CLOSE ã‹ç©ºï¼
 */
endShape([mode]);
```

ãã‚Œãã‚Œã®å®šæ•°ã«ã¤ã„ã¦è©³ã—ãã¯ [beginShape()](https://p5js.org/reference/#/p5/beginShape), [endShape()](https://p5js.org/reference/#/p5/endShape) ã‚’ã”å‚ç…§ãã ã•ã„ğŸ’

---

# `vertex()` ã®å…¬å¼ã‚µãƒ³ãƒ—ãƒ«

```js
function setup() {
  createCanvas(400, 400)
  background(240, 240, 240);
  translate(width / 2, height / 2);

  // èƒŒæ™¯è‰²ã‚’ä»˜ã‘ã‚‹ã“ã¨ã‚‚å¯èƒ½
  fill(237, 34, 93);
  // æ ç·šã‚’ä»˜ã‘ã‚‹ã“ã¨ã‚‚å¯èƒ½
  // ãŸã ã—ï¼Œç‚¹ãŒç¹‹ãŒã£ã¦ã„ãªã„ã¨ä»Šå›ã®ã‚ˆã†ã«ï¼‘è¾ºã ã‘è¡¨ç¤ºã•ã‚Œãªã„
  stroke(100, 0, 255);
  strokeWeight(4);

  beginShape();
  vertex(-10, 10);
  vertex(0, 35);
  vertex(10, 10);
  vertex(35, 0);
  vertex(10, -8);
  vertex(0, -35);
  vertex(-10, -8);
  vertex(-35, 0);
  endShape();
}
```

---

# å…ˆç¨‹ã®ä¾‹

#### å›³å½¢ã®æ ç·šã‚’ç¶ºéº—ã«é–‰ã˜ãŸã„å ´åˆã¯ï¼Œä»¥ä¸‹ã®ï¼’é€šã‚Š

```js
// é–‹å§‹ã®é ‚ç‚¹ã‚’ï¼’å›è¨˜è¿°
vertex(-10, 10);

// é–‰ã˜ã‚‹ã“ã¨ã‚’æ˜ç¤º
endShape(CLOSE);
```

---
layout: center
---

# ãƒãƒ©æ›²ç·šã‚’ç”¨ã„ã¦æ¡œã‚’æã„ã¦ã¿ã‚ˆã†

<style>
h1 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
</style>

---

# å®Œæˆç‰ˆ

<video src="/assets/13/cherry-blossoms.mp4" controls width="600" class="mt-8 mx-auto"></video>

---

# å‚è€ƒã‚µã‚¤ãƒˆ

#### Cinderella ã¨ã„ã†ã‚µã‚¤ãƒˆã®æ—¥æœ¬èªã‚µã‚¤ãƒˆ CinderellaJapan ã¨ã„ã†ã‚µã‚¤ãƒˆã‚’å‚è€ƒã«ã—ã¾ã™ğŸ’

<img src="/assets/13/cinderella-japan.png" alt="CinderellaJapan ã®ã‚­ãƒ£ãƒ—ãƒãƒ£" width="600" class="mx-auto my-8" />

Image By [CinderellaJapan](https://sites.google.com/site/cinderellajapan/huanocg/huano-qu-xian)

---

# ã“ã®ã‚ˆã†ãªè¨˜è¿°ãŒ

<img src="/assets/13/cherry-blossoms.png" alt="CinderellaJapan ã®ã‚­ãƒ£ãƒ—ãƒãƒ£" width="420" class="mx-auto my-8" />

Image By [CinderellaJapan](https://sites.google.com/site/cinderellajapan/huanocg/huano-qu-xian)

ã“ã¡ã‚‰ã‚’æ„šç›´ã«å®Ÿè£…ã—ã¦ã„ãã¾ã™ ğŸ™‹

---

# å…ˆç¨‹ã®æ•°å¼ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã«è¨˜è¿°

#### ä½•åº¦ã‚‚ã‚µã‚¤ãƒˆã¨ã‚¨ãƒ‡ã‚£ã‚¿ã‚’ã„ã£ãŸã‚Šæ¥ãŸã‚Šã—ãªã„ã‚ˆã†ã«å…ˆã«æ•°å¼ã‚’ã‚³ãƒ¼ãƒ‰ã«ãƒ¡ãƒ¢ã—ã¾ã—ã‚‡ã† ğŸ™‹

```js
/**
 * ulim = 0.8;
 * h(x):=if (x < ulim, 0, ulim - x);
 * r0(x):=(-1)^mod(floor(n / pi * x), 2) * (n / pi * x - floor(n / pi * x)) + mod(floor(n / pi * x), 2);
 * r(x):=r0(x) + 2 * h(r0(x));
 *
 * URL: https://sites.google.com/site/cinderellajapan/huanocg/huano-qu-xian
 */
```

é€”ä¸­ã«å‡ºã¦ãã‚‹ `mod()` ã¨è¨€ã†é–¢æ•°ã¯ï¼Œã„ã‚ã‚†ã‚‹å‰°ä½™æ¼”ç®—å­ `%` ã®å‡¦ç†ã‚’æ„å‘³ã—ã¾ã™ï¼ä»Šå›ã¯ `mod(..., 2)` ãªã®ã§ï¼Œ__ï¼’ã§å‰²ã£ãŸä½™ã‚Š__ ã«ãªã‚Šã¾ã™ï¼

`Python` ãªã©ã®ä»–ã®è¨€èªã§ã¯ __ãƒ¢ã‚¸ãƒ¥ãƒ­æ¼”ç®—å­__ ã¨å‘¼ã°ã‚ŒãŸã‚Šã—ã¾ã™ ğŸ’

---

# å®Ÿè£…ï¼šæº–å‚™

#### ã¾ãšã¯æº–å‚™ã‹ã‚‰

```js
const ulim = 0.8

function setup() {
  createCanvas(windowWidth, windowHeight, WEBGL)
  noStroke()
}

function draw() {
  background(0);
  // æ¡œã®èŠ±ã³ã‚‰ã®æ•°
  petalNumber = 4;
  // èŠ±ã³ã‚‰ã®ã‚µã‚¤ã‚º
  petalSize = 70;
}

/**
 * h(x):= if (x < ulim, 0, ulim - x);
 * @param {number} x - angle(radians)
 */
function calculateH(x) {
  if (x < ulim) return 0;
  else return ulim - x;
}
```

---

# å®Ÿè£…ï¼šæ¡œã®èŠ±ã³ã‚‰ã‚’ç”Ÿæˆ

#### ã¨ã‚Šã‚ãˆãšæ¡œã®èŠ±ã³ã‚‰ã‚’ç”Ÿæˆï¼`draw()` å†…ã«ä»¥ä¸‹ã‚’è¨˜è¿° ğŸ™‹

```js
 beginShape();
 for (let theta = 0; theta < TAU; theta += 0.01) {
   // n / pi * x
   const A = (this.petalNumber / PI) * theta;

    // mod(floor(n / pi * x), 2)
   const mod = floor(A) % 2;

    // r0(x):=(-1)^mod(floor(n / pi * x), 2) * (n / pi * x - floor(n / pi * x)) + mod(floor(n / pi * x), 2);
   const r0 = pow(-1, mod) * (A - floor(A)) + mod;

    // r(x):=r0(x) + 2 * h(r0(x));
   const r = r0 + 2 * this.calculateH(r0);

   let x = this.petalSize * r * cos(theta);
   let y = this.petalSize * r * sin(theta);
   vertex(x, y);
 }
 endShape(CLOSE);
```

---

# ã“ã†ãªã£ã¦ã‚Œã° OK ğŸ‘

<img src="/assets/13/development-1.png" alt="æ¡œã®èŠ±ã³ã‚‰ã‚’è¡¨ç¤ºã¾ã§" class="mx-auto" />

---

# å®Ÿè£…ï¼šclass

#### æ¡œã‚’è¤‡æ•°æšè¡¨ç¤ºã™ã‚‹ãŸã‚ï¼Œclass ã§æ›¸ãæ›ãˆã¾ã—ã‚‡ã† ğŸ™‹ â€»ã“ã®æ™‚ç‚¹ã§ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™

```diff
  const ulim = 0.8;
+ const petals = [];
+ const NUM = 80; // æ¡œã®æšæ•°ã‚’æŒ‡å®šï¼å€¤ã¯è‡ªç”±ã«å¤‰æ›´ã—ã¦ãã ã•ã„

  function setup() {
    createCanvas(windowWidth, windowHeight, WEBGL)
    noStroke()
+   for (let i = 0; i < NUM; i++) {
+     petals.push(new CherryBlossom());
+   }
  }

  function draw() {
    background(0);
-   petalNumber = 4;
-   petalSize = 70;
+   for (let petal of petals) {
+     push();
+     petal.update();
+     petal.render();
+     pop();
+   }
  }
```

---

# å®Ÿè£…ï¼šclass

#### class ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã—ã‚‡ã†ğŸ™‹

```js
class CherryBlossom {
  constructor() {
    this.petalNumber = 4
    this.petalSize = random(30, 70)
  }

  // ã¾ã‚‹ã£ã¨ class å†…ã«ç§»å‹•
  // ã¤ã„ã§ã« if-else ã‚’å¤‰æ›´
  calculateH(x) {
    if (x < ulim) {
      return 0;
    } else {
      return ulim - x;
    }
  }

  update() {
    // å¾Œã§å®Ÿè£…ã—ã¾ã™
  }
  ï¼ˆç¶šãï¼‰
```

---

# å®Ÿè£…ï¼šclass

```js
ï¼ˆç¶šãï¼‰

  render() {
    // â€» draw() é–¢æ•°å†…ã® beginShape(), endShape() éƒ¨åˆ†ã‚’ç§»æ¤
    beginShape();
    for (let theta = 0; theta < TAU; theta += 0.01) {
      // n / pi * x
      const A = (this.petalNumber / PI) * theta;
      // mod(floor(n / pi * x), 2)
      const mod = floor(A) % 2;
      // r0(x):=(-1)^mod(floor(n/pi*x),2)*(n/pi*x-floor(n/pi*x))+mod(floor(n/pi*x),2);
      const r0 = pow(-1, mod) * (A - floor(A)) + mod;
      // r(x):=r0(x)+2*h(r0(x));
      const r = r0 + 2 * this.calculateH(r0);
      let x = this.petalSize * r * cos(theta);
      let y = this.petalSize * r * sin(theta);
      vertex(x, y);
    }
    endShape(CLOSE);
  }
}
```

---

# å®Ÿè£…ï¼šæ¡œã«è‰²ã‚’ä»˜ã‘ã‚‹

#### æ¡œã«è‰²ã‚’ä»˜ã‘ã¦ã„ãã¾ã—ã‚‡ã† ğŸ™‹ã¤ã„ã§ã«æ¡œã®èŠ±ã³ã‚‰ã‚’ï¼‘æšã«å¤‰æ›´ã—ã¾ã™ï¼

```diff
  constructor() {
    this.petalNumber = 4;
    this.petalSize = random(30, 70);

+   // color settings
+   this.r = floor(random(245, 255));
+   this.g = 219;
+   this.b = 237;
+   this.alpha = random(0.8, 1);
  }

  render() {
+   fill(`rgba(${this.r}, ${this.g} , ${this.b}, ${this.alpha})`);

    beginShape();
-   for (let theta = 0; theta < TAU; theta += 0.01) {
+   for (let theta = 0; theta < TAU / this.petalNumber; theta += 0.01) {
```

â€» `this.petalNumber = 1` ã ã¨èŠ±å¼ã®å½¢ãŒå´©ã‚Œã¾ã™ã®ã§ã”æ³¨æ„ğŸ˜…

---

# å®Ÿè£…ï¼šå‹•ãã‚’ã¤ã‘ã‚‹

#### ç¶šã„ã¦ï¼Œç¾åœ¨ã¯ã™ã¹ã¦ä¸­å¤®ã«å›ºå®šã—ã¦ã„ã‚‹ãŸã‚ï¼Œå‹•ã‹ã—ã¦ã„ãã¾ã—ã‚‡ã† ğŸ™‹

```diff
  class CherryBlossom {
    constructor() {
      ï¼ˆç•¥ï¼‰

+     // moving petals
+     this.xBase = random(width);
+     this.xRadius = random(50, 100);
+     this.xTheta = random(360);
+     this.xVelocity = random(1, 2);
+     this.yVelocity = this.petalSize / 30;

+     this.vecLocation = createVector(this.xBase, random(height));
    }
    ï¼ˆç¶šãï¼‰
```

---

# å®Ÿè£…ï¼šå‹•ãã‚’ã¤ã‘ã‚‹

```diff
ï¼ˆç¶šãï¼‰
    update() {
      // xBase ã®å€¤ã‚’ç”¨ã„ãŸxè»¸æ–¹å‘ã®ç§»å‹•ç¯„å›²ã‚’è¨­å®š
+     this.vecLocation.x = this.xBase + this.xRadius * sin(radians(this.xTheta));

      // è½ä¸‹ã‚’è¨­å®š
+     this.vecLocation.y += this.yVelocity;

      // ç”»é¢ä¸‹ã¾ã§ç§»å‹•ã—ãŸã‚‰èŠ±ã³ã‚‰ã®ã‚µã‚¤ã‚ºåˆ†ä¸Šã«ç§»å‹•
+     if (this.vecLocation.y > height) this.vecLocation.y = -this.petalSize;
    }

    render() {
+     translate(this.vecLocation.x - width / 2, this.vecLocation.y - height / 2);
```

---

# å®Ÿè£…ï¼šèŠ±ã³ã‚‰ã‚’å›è»¢ï¼Œå…‰ã®èª¿æ•´

#### å¾®èª¿æ•´ã¨ã—ã¦èŠ±ã³ã‚‰ã‚’å›è»¢ï¼Œå…‰ã®èª¿æ•´ã‚’ã•ã›ã¦ã¿ã¾ã—ã‚‡ã† ğŸ™‹

```diff
  update() {
    // moving range with X base value
    this.vecLocation.x = this.xBase + this.xRadius * sin(radians(this.xTheta));

    // è§’é€Ÿåº¦ã«é€Ÿåº¦ã‚’åŠ ç®—
+   this.xTheta += this.xVelocity;

  ï¼ˆä¸­ç•¥ï¼‰

  render() {
    fill(`rgba(${this.r}, ${this.g} , ${this.b}, ${this.alpha})`);
    translate(this.vecLocation.x - width / 2, this.vecLocation.y - height / 2);
+   rotateX(radians(this.xTheta));
+   rotateY(radians(this.xTheta));
+   lights();
```

â€» p5js å…¬å¼ã® editor ã§ã™ã¨ã‹ãªã‚Šæš—ããªã£ã¦ã—ã¾ã„è¦‹è¾›ã„ãŸã‚ï¼Œ`lights()` ã¯ãªãã¦ã‚‚è‰¯ã•ãã†ã§ã™ ğŸ™‡

---
layout: center
---

# å®Œæˆ ğŸ‰

<style>
h1 {
  text-align: center;
  margin-bottom: 20px;
}
</style>

---
layout: center
---

# ä½™ã£ãŸã‚‰ãƒ—ãƒ©ã‚¹ã‚¢ãƒ«ãƒ•ã‚¡ã§ä½•ã‹ã‚’æã

---
layout: center
---

## æ¬¡å›ã¯ã‚¤ãƒ¼ã‚¸ãƒ³ã‚°, leap() ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã—ã¦ã¿ã¾ã™ ğŸ™‹

<style>
h2 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
</style>
