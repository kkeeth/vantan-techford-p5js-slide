---
theme: seriph
background: https://source.unsplash.com/collection/94734566/1920x1080
class: "text-center"
lineNumbers: false
info: |
  ## ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆp5.jsï¼‰è¬›ç¾©è³‡æ–™#10
  VANTAN Techgord Academy
  Created by [@kuwahara_jsri](https://twitter.com/kuwahara_jsri)
fonts:
  sans: "Josefin Sans"
  serif: "Noto Sans JP"
  mono: "Fira Code"
drawings:
  persist: false
highlighter: prism
title: ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆp5.jsï¼‰è¬›ç¾©
css: unocss
---

# ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆp5.jsï¼‰è¬›ç¾©

VANTAN Techford Academy

### #11 JavaScript åŸºç¤â‘¢ / ã‚¯ãƒ©ã‚¹ãƒ»ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹

<div class="pt-12">
  <span @click="$slidev.nav.next" class="px-2 py-1 rounded cursor-pointer" hover="bg-white bg-opacity-10">
    Press Space for next page <carbon:arrow-right class="inline"/>
  </span>
</div>

<div class="abs-br m-6 flex gap-2">
  <button @click="$slidev.nav.openInEditor()" title="Open in Editor" class="text-xl icon-btn opacity-50 !border-none !hover:text-white">
    <carbon:edit />
  </button>
  <a href="https://github.com/kkeeth/vantan-techford-p5js-slide" target="_blank" alt="GitHub"
    class="text-xl icon-btn opacity-50 !border-none !hover:text-white">
    <carbon-logo-github />
  </a>
</div>

---
layout: center
class: text-center
---

# å‡ºå¸­ ğŸ™‹

---
layout: center
---

# ä»Šæ—¥è©±ã™ã“ã¨ğŸ“‹


---

# â–¼ å‰åŠ: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ/ã‚¯ãƒ©ã‚¹/ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹

<br />


## ğŸ‘‰ è»½ãå‰å›ã®å¾©ç¿’
<br />

## ğŸ‘‰ JavaScript ã«ãŠã‘ã‚‹ã‚¯ãƒ©ã‚¹ã®æ¦‚å¿µ
<br />

## ğŸ‘‰ ã‚¯ãƒ©ã‚¹ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹

* ã‚¯ãƒ©ã‚¹ã®å®šç¾©ã¨ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
* ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®åˆæœŸåŒ–
* æ³¨æ„äº‹é …
* ã‚¯ãƒ©ã‚¹ã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ãƒ¡ã‚½ãƒƒãƒ‰ã®å®šç¾©
* åŒã˜ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã®å®šç¾©
* å…·ä½“çš„ãªä¾‹
* [ç™ºå±•]ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã«å®šç¾©ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å®šç¾©ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã®é•ã„

---

# â–¼ å¾ŒåŠ: p5.js ã«ã¦ã‚¯ãƒ©ã‚¹ï¼ˆ`class`ï¼‰ã‚’åˆ©ç”¨

<br />

## ğŸ‘‰ éå»ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚¯ãƒ©ã‚¹ã§æ›¸ãç›´ã™
<br />

## ğŸ‘‰ ä½•ã‹çµµã‚’æã„ã¦ã¿ã‚‹
<br />

## ğŸ‘‰ è‰¯ã•ã’ãªä½œå“ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

---
layout: center
---

# æˆæ¥­è³‡æ–™ğŸ“‹
<br />

[https://vantan-techford-p5js-slide.vercel.app/](https://vantan-techford-p5js-slide.vercel.app/)

<br />

<img width="600" class="mx-auto" src="/assets/1/text.png" alt="è¬›ç¾©è³‡æ–™" />

---
layout: center
---

# è»½ãå‰å›ã®å¾©ç¿’ğŸ“

---
layout: two-cols
---
# ï¼“æ¬¡å…ƒç©ºé–“ã¨ã¯

<img src="/assets/10/3d-define.png" alt="ï¼“æ¬¡å…ƒç©ºé–“ã®å®šç¾©" width="400" class="mx-auto" />

::right::

<br />

### ã–ã£ãã‚Šã„ã†ã¨ï¼Œå¹…ï¼Œé«˜ã•ã«åŠ ãˆã¦ï¼Œ__å¥¥è¡Œã__ ã‚’æŒã£ãŸç©ºé–“ã®ã“ã¨ï¼
<br />
<br />

### åå‰ã®é€šã‚Šï¼Œåº§æ¨™ä¸Šã§ã¯ï¼“ã¤ã®å€¤ã‚’ç”¨ã„ã¦ä½ç½®ã‚’è¡¨ç¾ã™ã‚‹ï¼

---

# ï¼“æ¬¡å…ƒç©ºé–“ä¸Šã®æ¥µåº§æ¨™

#### `r` ã‚’ __å‹•å¾„__, `Î¸` ã‚’ __æ¥µè§’(å¤©é ‚è§’)__, `Ï†` ã‚’ __æ–¹ä½è§’(åè§’)__ ã¨å‘¼ã¶ï¼

<img src="/assets/10/3d-coor.png" alt="ï¼“æ¬¡å…ƒç©ºé–“ä¸Šã®æ¥µåº§æ¨™" width="800" class="mx-auto" />


---

# ï¼“æ¬¡å…ƒç©ºé–“ä¸Šã®æ¥µåº§æ¨™


<img src="/assets/10/3d-2d-coor.png" alt="ï¼“æ¬¡å…ƒã‹ã‚‰ï¼’æ¬¡å…ƒã¸ã®æ¥µåº§æ¨™ã®å¤‰æ›å¼" width="800" class="mt-8" />

<br />

å³ã®å¼ã¯ï¼Œ__ï¼’æ¬¡å…ƒå¹³é¢ä¸Šã®å††ã®æ¥µåº§æ¨™__ ã¨ãªã‚‹ğŸ’

---

# åº§æ¨™ç³»ã®è»¸ã®é•ã„

<img src="/assets/10/convert-3d.png" alt="åº§æ¨™ç³»ã®è»¸ã®å®šç¾©ã®é•ã„" width="800" />

---

# å¼ã®å¤‰æ›ãŒå¿…è¦

#### å„åº§æ¨™ç³»ã®è»¸ã®å¼ã¯ä»¥ä¸‹ã¨ãªã‚‹ğŸ’

<img src="/assets/10/math-p5js-coor.png" alt="ï¼“æ¬¡å…ƒã‹ã‚‰ï¼’æ¬¡å…ƒã¸ã®æ¥µåº§æ¨™ã®å¤‰æ›å¼" width="800" class="mt-12" />

å³ã®å¼ã¯é ­ã®ç‰‡éš…ã«ç½®ã„ã¦ãŠã„ã¦ãã ã•ã„ğŸ’

---
layout: center
---

# ç™ºå±•ğŸ™‹â€â™‚

---

<div>

```html
<Tweet id="940639806522085376" />
```

<Tweet id="940639806522085376" scale="0.6" class="ml-70" />

</div>

---
layout: center
---

# YouTube ã§ã¯ã“ã‚“ãªæ„Ÿã˜ã®ä½œå“ã«ãªã£ã¦ã„ã¾ã—ãŸğŸ’

---

<img src="/assets/11/cube-wave.gif" width="480" class="mx-auto" alt="ç™ºå±•ä½œå“ã®gifç”»åƒ" />


---
layout: center
---

# è»½ãã‚³ãƒ¼ãƒ‰è§£èª¬ğŸ’

ï¼ˆè»½ãã‚µã‚¤ã‚ºå‘¨ã‚Šã¯å¾®èª¿æ•´ã—ã¦ã„ã¾ã™ï¼‰

---

# ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰

```js
let angle = 0;
let w = 24;
let ma;
let maxD;

function setup() {
  createCanvas(600, 600, WEBGL);
  rectMode(CENTER);
  noStroke();

  ma = atan(1 / sqrt(2));
  maxD = dist(0, 0, width / 3, height / 3);
}
```

---

# ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆç¶šãï¼‰

```js
function draw() {
  background(100);
  ortho(-400, 400, 400, -400, 0, 1000);

  rotateX(QUARTER_PI);
  rotateY(ma);

  for (let x = 0; x < width - 100; x += w) {
    for (let z = 0; z < height - 100; z += w) {
      push();
      let d = dist(x, z, width / 2 - 50, height / 2 - 50);
      let offset = map(d, 0, maxD, -PI, PI);
      let a = angle + offset;
      let h = map(sin(a), -1, 1, 100, 500);
      translate(x - width / 4, -height / 4, z - height / 1.5);
      normalMaterial();
      box(w - 2, h, w - 2);
      pop();
    }
  }

  angle += 0.05;
}
```

---
layout: center
---

# ã§ã¯ï¼Œæœ¬æ—¥ã®æˆæ¥­ã¸GO ğŸš€

---
layout: center
---

# JavaScript åŸºç¤â‘¢

<style>
h1 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
</style>

---

# JavaScript ã«ãŠã‘ã‚‹ã‚¯ãƒ©ã‚¹(Class)ã®æ¦‚å¿µ

## æ¦‚å¿µ

* __å‹•ä½œ__ ã‚„ __çŠ¶æ…‹__ ã‚’å®šç¾©ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
* ã‚¯ãƒ©ã‚¹ã‹ã‚‰ã¯ __ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹(instance)__ ã¨å‘¼ã°ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
* ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ã‚¯ãƒ©ã‚¹ã«å®šç¾©ã—ãŸ __å‹•ä½œ__ ã‚’ç¶™æ‰¿ã—ã€__çŠ¶æ…‹__ ã¯å‹•ä½œã«ã‚ˆã£ã¦å¤‰åŒ–
* ã‚¯ãƒ©ã‚¹ã«ã‚‚ã‚¯ãƒ©ã‚¹å®£è¨€æ–‡ã¨ã‚¯ãƒ©ã‚¹å¼ãŒã‚ã‚‹

<br />

â€»1 `ES2015` ã‚ˆã‚Šå‰ã¯ `class` æ§‹æ–‡ã¨ã„ã†ã‚‚ã®ã¯ãªãã€é–¢æ•°ã‚’ä½¿ã£ã¦ä¼¼ãŸã‚‚ã®ã‚’è¡¨ç¾ã—ã¦ã„ã¾ã—ãŸğŸ’<br>
â€»2 è©³ã—ãã¯ `JavaScript ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—(prototype)ãƒ™ãƒ¼ã‚¹` ç­‰ã§æ¤œç´¢ã—ã¦ã¿ã¦ãã ã•ã„ğŸ’

---

# ã‚¯ãƒ©ã‚¹ã®å®šç¾©ã¨ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
* `class` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã„ã‚¯ãƒ©ã‚¹ã‚’å®£è¨€ï¼Œ `class ã‚¯ãƒ©ã‚¹å{ }` ã®ã‚ˆã†ã«ã‚¯ãƒ©ã‚¹ã®æ§‹é€ ã‚’å®šç¾©
* ã‚¯ãƒ©ã‚¹ã¯å¿…ãš `ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿(constructor)` ã¨ã„ã†åå‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¤
  * ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹éš›ã«ï¼Œã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«é–¢ã™ã‚‹çŠ¶æ…‹ã®åˆæœŸåŒ–ã‚’è¡Œã†ãƒ¡ã‚½ãƒƒãƒ‰

```js
// æ…£ç¿’ã¨ã—ã¦ã‚¯ãƒ©ã‚¹å®£è¨€ã¯ã‚¢ãƒƒãƒ‘ãƒ¼ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹
class MyClass {
  constructor() {
    // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’å®šç¾©ã™ã‚‹
  }
}
```

â€»ã‚¯ãƒ©ã‚¹ã¯å€¤ã¨ã—ã¦å®šç¾©ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½

```js
const MyClass = class MyClass {
  constructor() {}
};
// ç„¡åã‚¯ãƒ©ã‚¹ã‚‚å¯èƒ½
const AnonymousClass = class {
  constructor() {}
};
```

---

# ã‚¯ãƒ©ã‚¹ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹

* `new` æ¼”ç®—å­ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã€€â†’ã€€`ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–` ã¨ã„ã†
* ã‚¯ãƒ©ã‚¹ã¯ã€Œãƒ¬ã‚·ãƒ”ã€ï¼Œã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ã€Œæ–™ç†ã€ã®ã‚ˆã†ãªã‚‚ã®

```js
class MyClass {
}

// `MyClass`ã‚’ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã™ã‚‹
const myClass = new MyClass();

// æ¯å›æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹(ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)ã‚’ä½œæˆã™ã‚‹
const myClassAnother = new MyClass();

// ãã‚Œãã‚Œã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ç•°ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
console.log(myClass === myClassAnother); // => false

// ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‹ã©ã†ã‹ã¯`instanceof`æ¼”ç®—å­ã§åˆ¤å®šã§ãã‚‹
console.log(myClass instanceof MyClass); // => true
console.log(myClassAnother instanceof MyClass); // => true
```

---

# ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®åˆæœŸåŒ–

* ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®åˆæœŸåŒ–å‡¦ç†ã‚’ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿é–¢æ•°ã§è¡Œã†
* ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿é–¢æ•°ã¯ `new` æ¼”ç®—å­ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã™ã‚‹éš›ã«è‡ªå‹•çš„ã«å‘¼ã³å‡ºã•ã‚Œã‚‹
* `new` æ¼”ç®—å­ã«ã¯é–¢æ•°å‘¼ã³å‡ºã—ã¨åŒã˜ã‚ˆã†ã«å¼•æ•°ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã‚‹
* ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®ä¸­ã§ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ`this`ï¼‰ã®åˆæœŸåŒ–å‡¦ç†ã‚’è¡Œã†

```js
class Point {
  constructor(x, y) {
    // ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿é–¢æ•°ã«ãŠã‘ã‚‹`this`ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç¤ºã™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
    // ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®`x`ã¨`y`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ãã‚Œãã‚Œå€¤ã‚’è¨­å®šã™ã‚‹
    this.x = x;
    this.y = y;
  }
}

const point = new Point(3, 4);
console.log(point.x); // => 3
console.log(point.y); // => 4
```

ã‚„ã£ã¦ã¿ã¾ã—ã‚‡ã†ğŸ™‹â€â™‚

---

# ã‚¯ãƒ©ã‚¹ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®å®Ÿè£…ä¾‹

#### `å‹•ç‰©ã‚¯ãƒ©ã‚¹` ã¨ï¼Œ`çŠ¬ãƒ»çŒ«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹` ã‚’ä½œæˆğŸ’

ä»¥ä¸‹ã®ä»•æ§˜ã§ã„ããŸã„ã¨æ€ã„ã¾ã™ï¼

* `ç¨®é¡` ã‚’è¨­å®šã§ãã‚‹
* `é³´ãå£°` ã‚’è¨­å®šã§ãã‚‹
* é³´ãå£°ã‚’è¨€ã‚ã›ã‚‹
* æ•£æ­©ã«è¡Œã
  * çŠ¬ã¯å–œã¶
  * çŒ«ã¯æ€’ã‚‹

---

# å®Ÿè£…

```js
// å‹•ç‰©ã‚¯ãƒ©ã‚¹
class Animal {
  constructor(type, yelp) {
    this.type = type;
    this.yelp = yelp;
  }
  doYelp() {
    console.log(this.yelp);
  }
  goWalk() {
    if (this.type === "dog") console.log("Bow! Bow!");
    else if (this.type === "cat") console.log("Hooooooo!!")
  }
}

// çŠ¬ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
const dog = new Animal("dog", "ãƒ¯ãƒ³ï¼");
dog.doYelp(); // ãƒ¯ãƒ³ï¼
dog.goWalk(); // Bow! Bow!
// çŒ«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
const cat = new Animal("cat", "ãƒ‹ãƒ£ãƒ¼");
cat.doYelp(); // ãƒ‹ãƒ£ãƒ¼
cat.goWalk(); // Hoooooooo!!
```

---

# æ³¨æ„äº‹é …

#### â–¼ã‚¯ãƒ©ã‚¹ã¯é–¢æ•°ã¨ã—ã¦å‘¼ã³å‡ºã™ã“ã¨ã¯ã§ããªã„

```js
class MyClass {
    constructor() {}
}
// ã‚¯ãƒ©ã‚¹ã¯é–¢æ•°ã¨ã—ã¦å‘¼ã³å‡ºã™ã“ã¨ã¯ã§ããªã„
MyClass(); // => TypeError: class constructors must be invoked with |new|
```

<br />

#### â–¼ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯ã‚ãã¾ã§åˆæœŸåŒ–å‡¦ç†ã‚’æ›¸ãå ´ã§ï¼Œ `return` æ–‡ã§å€¤ã‚’è¿”ã™ã¹ãã§ã¯ãªã„

```js
class Point {
  constructor(x, y) {
    // `this`ã®ä»£ã‚ã‚Šã«ãŸã ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã›ã‚‹
    return { x, y };
  }
}

const point = new Point(3, 4);
console.log(point); // => { x: 3, y: 4 }
console.log(point instanceof Point); // => false
```

â€»ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã§ã¯ãªãï¼Œå˜ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å®šç¾©ã¨å¤‰ã‚ã‚‰ãªã„

---

`ES2022` ã‹ã‚‰ã¯ __ã‚¯ãƒ©ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰__ æ§‹æ–‡ãŒå°å…¥ã•ã‚Œï¼Œä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼

```js
class Counter {
  count = 0;
  increment() {
    this.count++;
  }
}
```

<br />

ã¾ãŸä»¥ä¸‹ã®ã‚ˆã†ã« `publicField` ã¨ã„ã†åŒã˜åå‰ã®å®šç¾©ãŒã‚ã‚‹å ´åˆï¼Œ`constructor` ãƒ¡ã‚½ãƒƒãƒ‰å†…ã§ã®å®šç¾©ã§ä¸Šæ›¸ãã•ã‚Œã¾ã™ğŸ’

```js
class OwnClass {
  publicField = 1;

  constructor(arg) {
    this.publicField = arg;
  }
}
const ownClass = new OwnClass(2);
console.log(ownClass.publicField); // => 2
```

---

# ä»Šå›è§¦ã‚Œãªã‹ã£ãŸ JavaScript ã‚¯ãƒ©ã‚¹ã®ã‚ã‚Œã“ã‚Œ

<br />

ã“ã‚Œã¾ã§ã«è©±ã•ãªã‹ã£ãŸã“ã¨ã¨ã—ã¦

* ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã®å‚ç…§ï¼Œãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ãƒã‚§ãƒ¼ãƒ³
* ã‚¢ã‚¯ã‚»ãƒƒã‚µãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
* é™çš„ãƒ¡ã‚½ãƒƒãƒ‰
* ç¶™æ‰¿ï¼Œ`super()`

ãªã©ãŒã‚ã‚Šã¾ã™ãŒï¼Œã“ã‚Œã‚‰ã¯èˆˆå‘³ã‚ã‚‹æ–¹ã¯è¦‹ã¦ã¿ã¦ãã ã•ã„ğŸ™‹

---

# [ç™ºå±•] ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã«å®šç¾©ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å®šç¾©ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã®é•ã„

#### ã‚¯ãƒ©ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå®šç¾©ã§ãã‚‹ãªã‚‰ï¼Œãã“ã«ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã‚‚ã§ãã‚‹

```js
class ExampleClass {
  instanceMethod = () => {
    console.log("ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰");
  };

  prototypeMethod() {
    console.log("ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ãƒ¡ã‚½ãƒƒãƒ‰");
  }
}
const example = new ExampleClass();
// ã©ã¡ã‚‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‹ã‚‰å‘¼ã³å‡ºã›ã‚‹
example.instanceMethod();
example.prototypeMethod();
```

---

# [ç™ºå±•] ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã«å®šç¾©ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å®šç¾©ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã®é•ã„

#### ï¼’ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®å®šç¾©æ–¹æ³•ã¯ï¼Œå®šç¾©å…ˆã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç•°ãªã‚Šã¾ã™ğŸ¤”<br />è©¦ã—ã«åŒåã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼

```js
class ConflictClass {
  method = () => {
    console.log("ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ã‚½ãƒƒãƒ‰");
  };

  method() {
    console.log("ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã®ãƒ¡ã‚½ãƒƒãƒ‰");
  }
}

const conflict = new ConflictClass();
conflict.method();
delete conflict.method;
conflict.method();
```
â€»å°‘ã—æ··ä¹±ã•ã›ã¦ã—ã¾ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã®ã§ï¼Œã‚ˆã‚Šæ·±ã JavaScript ã‚’å­¦ã³ãŸã„æ–¹ã¯èª¿ã¹ã¦ã¿ã¦ãã ã•ã„ğŸ™‹

---
layout: image-right
image: https://jsprimer.net/landing/img/cover-optimized.jpg
---

# JavaScript ç”¨ã®æ•™ç§‘æ›¸

<br />

### è©³ã—ãã¯ã‚„ã£ã±ã‚Š JS Primer ã•ã‚“

<p>
  <a target="_blank" href="https://jsprimer.net/basic/class/" class="px-2 py-1 rounded cursor-pointer" hover="bg-white bg-opacity-10">
    JavaScript Primerã€Œã‚¯ãƒ©ã‚¹ã€ <carbon:arrow-right class="inline"/>
  </a>
</p>
---
layout: center
---

# p5.js ã«ã¦ã‚¯ãƒ©ã‚¹ï¼ˆclassï¼‰ã‚’åˆ©ç”¨

<style>
h1 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
</style>

---
layout: center
---

# å‰å›ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚¯ãƒ©ã‚¹ã§æ›¸ãç›´ã™

---

# æ¹§ãä¸ŠãŒã‚‹ box

<img src="/assets/10/3d-art2.gif" alt="æ§˜ã€…ãª3Dã®çµµ2" width="800" class="mx-auto" />

---

# å‰å›ã®ã‚³ãƒ¼ãƒ‰

```js
let cubes = [];
const NUM = 100;
const SIZE = 30;
const colors = ["#612503", "#abb2bf", "#ffcfa8", "#ffae6b", "#f56e45"];

function setup() {
  createCanvas(windowWidth, windowHeight, WEBGL);

  for (let i = 0; i < NUM; i++) {
    // â€»ã“ã“ã‚’æ›¸ãç›´ã™
    cubes.push({
      x: random(-width / 2, width / 2),
      y: random(-20, height / 2 + 100),
      z: random(-width / 2, width / 2),
      size: random(10, SIZE),
      speed: random(2, 5),
      color: random(colors),
      rotateRate: random(10, 30)
    });
  }
}
```

---

# å‰å›ã®ã‚³ãƒ¼ãƒ‰ï¼ˆç¶šãï¼‰

```js
function draw() {
  background(10);
  orbitControl();

  for (cube of cubes) {
    push();
    // â€»ã“ã“ã¨
    cube.y -= cube.speed;
    if (cube.y < -height / 2) {
      cube.x = random(-width / 2, width / 2);
      cube.y = height / 2;
    }
    // â€»ã“ã“ã‚’æ›¸ãç›´ã™
    fill(cube.color);
    translate(cube.x, cube.y, cube.z);
    rotateX(frameCount / cube.rotateRate);
    rotateY(frameCount / cube.rotateRate);
    rotateZ(frameCount / cube.rotateRate);
    // box ã‹ã‚‰ torus ã«å¤‰ãˆã¦ã¾ã™ãŒã©ã¡ã‚‰ã§ã‚‚æ§‹ã„ã¾ã›ã‚“
    torus(cube.size);
    pop();
  }
}
```

---

# å¤‰æ›´å¾Œã®ã‚³ãƒ¼ãƒ‰

#### ã¾ãšã¯ï¼Œå„ box ç”¨ã®ã‚¯ãƒ©ã‚¹ã‚’ç”¨æ„ã—ã¾ã™ğŸ’

```js
class Box {
  constructor() {
    // åˆæœŸå€¤ã®è¨­å®š
  }

  update() {
    // åº§æ¨™ã®æ›´æ–°å‡¦ç†
  }

  show() {
    // æç”»å‡¦ç†
  }
}
```

ãã‚Œãã‚Œã®ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ç§»æ¤ã—ã¾ã™ğŸ™‹

---

# å¤‰æ›´å¾Œã®ã‚³ãƒ¼ãƒ‰ï¼ˆç¶šãï¼‰

```diff
function setup() {
  createCanvas(windowWidth, windowHeight, WEBGL);

  for (let i = 0; i < NUM; i++) {

-   cubes.push({
+   cubes.push(new Box({
      x: random(-width / 2, width / 2),
      y: random(-20, height / 2 + 100),
      z: random(-width / 2, width / 2),
      size: random(10, SIZE),
      speed: random(2, 5),
      color: random(colors),
      rotateRate: random(10, 30)
    });
  }
}
```

---

# å¤‰æ›´å¾Œã®ã‚³ãƒ¼ãƒ‰ï¼ˆç¶šãï¼‰

```diff
  function draw() {
    background(10);
    orbitControl();

    for (cube of cubes) {
      push();
-     cube.y -= cube.speed;
-     if (cube.y < -height / 2) {
-       cube.x = random(-width / 2, width / 2);
-       cube.y = height / 2;
-     }
+     cube.update();
-     fill(cube.color);
-     translate(cube.x, cube.y, cube.z);
-     rotateX(frameCount / cube.rotateRate);
-     rotateY(frameCount / cube.rotateRate);
-     rotateZ(frameCount / cube.rotateRate);
-     box(cube.size);
+     cube.show();
      pop();
    }
  }
```

---

# å¤‰æ›´å¾Œã®ã‚³ãƒ¼ãƒ‰ï¼ˆç¶šãï¼‰

```diff
  class Box {
-   constructor() {
+   constructor({ x, y, z, size, speed, color, rotateRate }) {
+     this.x = x;
+     this.y = y;
+     this.z = z;
+     this.size = size;
+     this.speed = speed;
+     this.color = color;
+     this.rotateRate = rotateRate;
    }

    update() {
+     this.y -= this.speed;
+     if (this.y < -height / 2) {
+       this.x = random(-width / 2, width / 2);
+       this.y = height / 2;
+     }
    }

    show() {
      // æç”»å‡¦ç†
    }
  }
```

---

# å¤‰æ›´å¾Œã®ã‚³ãƒ¼ãƒ‰ï¼ˆç¶šãï¼‰

```diff
  class Box {
    ï¼ˆä¸­ç•¥ï¼‰

    show() {
+     fill(this.color);
+     translate(this.x, this.y, this.z);
+     rotateX(frameCount / this.rotateRate);
+     rotateY(frameCount / this.rotateRate);
+     rotateZ(frameCount / this.rotateRate);
+     box(this.size);
    }
  }
```

ã“ã‚Œã§ï¼Œãƒ¡ã‚¤ãƒ³ã®ï¼’ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ `setup(), draw()` ãŒã‚¹ãƒƒã‚­ãƒªã—ãŸã®ã¨ï¼Œæ›´æ–°`update()`ãƒ»æç”»`show()`å‡¦ç†ãŒåˆ†ã‹ã‚Šã‚„ã™ããªã‚Šã¾ã—ãŸğŸ’

---
layout: center
---

# è‰¯ã•ãã†ãªä½œå“ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

<br />

### ä»Šå›ã‚‚å…ˆäººã®ã‚³ãƒ¼ãƒ‰ã‹ã‚‰å­¦ã³ã‚’å¾—ã¾ã—ã‚‡ã†ğŸ’

<style>
h1 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
</style>

---
layout: center
---

# ä»Šå›å†™çµŒã™ã‚‹ã‚³ãƒ¼ãƒ‰ ğŸ’

---

<div>

```html
<Tweet id="1571844743369494531" />
```

<Tweet id="1571844743369494531" scale="0.6" class="ml-70" />

</div>

---

# `setup()` ã®ä¸­èº«

#### ã¾ãšã¯ä»¥ä¸‹ã®éƒ¨åˆ†ã‹ã‚‰ ğŸ’

```js
let forms = [];
let colors = ['#f70640', '#f78e2c', '#fdd903', '#cae509', '#63be93', '#81cfe5', '#299dbf', '#38187d', '#a4459f', '#f654a9', '#2F0A30'];

function setup() {
	createCanvas(900, 900);

	let c = 18;
	let w = width / c;
	for (let i = 0; i < c; i++) {
		for (let j = 0; j < c; j++) {
			let x = i * w + w / 2;
			let y = j * w + w / 2;
      // ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã® i, j ã‚’è¶³ã—ã¦2ã§å‰°ä½™è¨ˆç®—ã™ã‚‹ã“ã¨ã§ï¼Œäº¤äº’ã«è¡¨ç¤º
			if ((i + j) % 2 == 0) {
        // ï¼•å‘¨ã®å††ã‚’ï¼‘ã¤ã®å¡Šã¨ã™ã‚‹
				for (let k = 0; k < 5; k++) {
					forms.push(new Form(x, y));
				}
			}
		}
	}
}
```

---

# `draw()` ã®ä¸­èº«

#### ç¶šã„ã¦ä»¥ä¸‹ã®éƒ¨åˆ†

ã“ã“ã¯å˜ã«ã‚³ãƒ¼ãƒ«ã™ã‚‹ã ã‘ã§ã¨ã¦ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ğŸ‘

```js
function draw() {
	background(255);
	for (let i of forms) {
		i.show();
    // ä»Šã¯ã“ã®ã¾ã¾ã ã¨ãƒã‚°ã§ç”»é¢ã«ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“
		i.move();
	}
}
```

---

# `class` ã®ä¸­èº«

#### æœ¬ä½“ã® class éƒ¨åˆ†

```js
class Form {
  // 0 ãŒä»˜ã„ã¦ã„ã‚‹å„å¤‰æ•°ã¯ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹å€¤
	constructor(x, y) {
		this.x = x;
		this.y = y;
    // å††ã®é…ç½®ä½ç½®ã®åŠå¾„
		this.r = random(10, 25);
    // ãã‚Œãã‚Œã®å††ã®ç›´å¾„
		this.d = random(15) * random() + 5;
    // å††ã®å€‹æ•°ã‚’æŒ‡å®š
    this.n = int(random(3, 13));
		this.col = color(random(colors));
	}

	show() {}

  move() {}
}
```

---

# ç¶šã„ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¡¨ç¤º

```js
show() {
  noStroke();
  fill(this.col);
  push();
  translate(this.x, this.y);
  for (let i = 0; i < this.n; i++) {
    // é…ç½®ç”¨ã®è§’åº¦ã‚’è¨ˆç®—
    let theta = map(i, 0, this.n, 0, TAU);
    ellipse(this.r * cos(theta), this.r * sin(theta), this.d, this.d);
  }
  pop();
}
```

---

# ç¶šã„ã¦å…¨ä½“çš„ã«ç§»å‹•

```js
move() {
  this.x += 0.5;
  this.y -= 0.5;

  // ç”»é¢æ å¤–ã«ã¯ã¿å‡ºã—ãŸå ´åˆã®å‡¦ç†
  if (this.x > width) {
    this.x = 0;
  }
  if (this.y < 0) {
    this.y = height;
  }
}
```

---

# ãã‚Œãã‚Œã®å††ã‚’å›ã—ã¦ã¿ã‚‹

```js
  constructor() {
    ï¼ˆä¸­ç•¥ï¼‰
    this.a = random(100);
  	this.t = random(10000);
  	this.r1 = random(0.01);
  }

show() {
  ï¼ˆä¸­ç•¥ï¼‰
	push();
	translate(this.x, this.y);
  // ã“ã“ã‚’è¿½è¨˜
	rotate(this.a);

move() {
  // ä»¥ä¸‹ï¼’è¡Œã‚’è¿½è¨˜
  this.t++;
  // è§’åº¦ã‚’å–å¾—ã—ãŸã„ã®ã§ï¼ŒTAU ã‚’åŸºåº•ã¨ã™ã‚‹
  this.a = TAU * sin(this.t * this.r1);
```

ã“ã®æ™‚ç‚¹ã§ã‹ãªã‚Šæ¥½ã—ã„è¦‹ãŸç›®ã«ãªã£ã¦ãã¾ã—ãŸğŸ’

---

# ãƒ©ãƒ³ãƒ€ãƒ ã§åŠå¾„ã‚’å¤‰æ›´

#### å„å¡Šã®å††ã®åŠå¾„ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã§å¤‰æ›´ã—ã¦ã¿ã¾ã—ã‚‡ã†ğŸ™‹

```diff
	constructor(x, y) {
-   this.r = random(10, 25);
+   this.r0 = random(10, 25);
+   this.r = this.r0;
    ï¼ˆä¸­ç•¥ï¼‰
		this.r1 = random(0.01);
+ 	this.r2 = random(0.01);


move() {
  this.t++;
  this.a = TAU * sin(this.t * this.r1);
  // åŠå¾„ã®è·é›¢ã‚’å–å¾—ã—ãŸã„ã®ã§ï¼Œthis.r0 ã‚’åŸºåº•ã¨ã™ã‚‹
+ this.r = this.r0 * sin(this.t * this.r2);
```

---

# æ›´ã«ï¼Œå††ã®ç›´å¾„ã‚’å¤‰æ›´

#### å¡Šã®å‘¨ã‚Šã®å††ã®ç›´å¾„ã‚’å°‘ã—ãšã¤å¤‰æ›´ã—ã¦ã¿ã¾ã—ã‚‡ã†ğŸ™‹

```diff
  constructor(x, y)
    ï¼ˆä¸­ç•¥ï¼‰
		this.r0 = random(10, 25);
		this.r = this.r0;
- 	this.d = random(15) * random() + 5;
+ 	this.d0 = random(15) * random() + 5;
+ 	this.d = this.d0;
    ï¼ˆä¸­ç•¥ï¼‰
    this.r1 = random(0.01);
    this.r2 = random(0.01);
+ 	this.r3 = random(0.01);

	move() {
		this.t++;
		this.a = TAU * sin(this.t * this.r1);
		this.r = this.r0 * sin(this.t * this.r2);
    // å††ã®ç›´å¾„ã‚’å–å¾—ã—ãŸã„ã®ã§ï¼Œthis.d0 ã‚’åŸºåº•ã¨ã™ã‚‹
+ 	this.d = this.d0 * sin(this.t * this.r3);
```

---

# æœ€å¾Œã«å¾®èª¿æ•´

#### ç¾çŠ¶ã ã¨ç”»é¢å·¦ç«¯ã‹ã‚‰ãƒ‘ãƒƒã¨ã„ããªã‚Šç¾ã‚Œã‚‹ã®ã‚’ï¼Œ<br />ç”»é¢æ å¤–ã‹ã‚‰ã‚†ã£ãã‚Šç™»å ´ã™ã‚‹ã‚ˆã†ãªè¦‹ãŸç›®ã«å¤‰æ›´ã—ã¾ã™ğŸ’

```js

function draw() {
	translate(width / 2, height / 2);
	scale(1.1);
	translate(-width / 2, -height / 2);
```

è‰²ã‚“ãªã‚„ã‚Šæ–¹ãŒã‚ã‚Šã¾ã™ãŒï¼Œã“ã‚Œã¯ã¨ã¦ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§ç°¡å˜ã§ã™ï¼

---
layout: center
---

# å®Œæˆ ğŸ‰

<style>
h1 {
  text-align: center;
  margin-bottom: 20px;
}
</style>
---
layout: center
---

# ä½™ã£ãŸã‚‰ãƒ—ãƒ©ã‚¹ã‚¢ãƒ«ãƒ•ã‚¡ã§ä½•ã‹ã‚’æã

---
layout: center
---

# å…¬å¼ã®ã‚µãƒ³ãƒ—ãƒ«ã§é¢ç™½ã„ã‚‚ã®ãŒã‚ã‚Šã¾ã—ãŸ ğŸ’

---

<video src="/assets/11/official_sample.mp4" controls width="600" class="mt-8 mx-auto"></video>

<br />

å°‘ã—é•·ã„ã§ã™ãŒï¼Œã¨ã¦ã‚‚å‹‰å¼·ã«ãªã‚‹ã‚³ãƒ¼ãƒ‰ãªã®ã§èˆˆå‘³ã‚ã‚‹æ–¹ã¯ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã¿ã¦ãã ã•ã„ğŸ’ª

---
layout: center
---

## æ¬¡å›ã¯ãƒã‚¦ã‚¹ãƒ»ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’ç”¨ã„ãŸã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã‚„<br />ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½¿ã£ã¦ã¿ã¾ã™ğŸ™‹

<style>
h2 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
</style>
