---
theme: seriph
background: https://source.unsplash.com/collection/94734566/1920x1080
class: "text-center"
lineNumbers: false
info: |
  ## ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆp5.jsï¼‰è¬›ç¾©è³‡æ–™#17
  VANTAN Techgord Academy
  Created by [@kuwahara_jsri](https://twitter.com/kuwahara_jsri)
fonts:
  sans: "Josefin Sans"
  serif: "Noto Sans JP"
  mono: "Fira Code"
drawings:
  persist: false
highlighter: prism-xonokai
title: ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆp5.jsï¼‰è¬›ç¾©
css: unocss
---

# ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆp5.jsï¼‰è¬›ç¾©

VANTAN Techford Academy

### #18 ã„ãã¤ã‹ã®ä½œå“ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°â‘¢

<div class="pt-12">
  <span @click="$slidev.nav.next" class="px-2 py-1 rounded cursor-pointer" hover="bg-white bg-opacity-10">
    Press Space for next page <carbon:arrow-right class="inline"/>
  </span>
</div>

<div class="abs-br m-6 flex gap-2">
  <button @click="$slidev.nav.openInEditor()" title="Open in Editor" class="text-xl icon-btn opacity-50 !border-none !hover:text-white">
    <carbon:edit />
  </button>
  <a href="https://github.com/kkeeth/vantan-techford-p5js-slide" target="_blank" alt="GitHub"
    class="text-xl icon-btn opacity-50 !border-none !hover:text-white">
    <carbon-logo-github />
  </a>
</div>

---
layout: center
class: text-center
---

# å‡ºå¸­ ğŸ™‹

---
layout: center
---

# ä»Šæ—¥è©±ã™ã“ã¨ğŸ“‹

---

# â–¼ ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°â‘¢

<br />


## ğŸ‘‰ è»½ãå‰å›ã®å¾©ç¿’

<br />

## ğŸ‘‰ ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°/ã‚³ãƒ¼ãƒ‰è§£æ

---
layout: center
---

# æˆæ¥­è³‡æ–™ğŸ“‹
<br />

[https://vantan-techford-p5js-slide.vercel.app/](https://vantan-techford-p5js-slide.vercel.app/)

<br />

<img width="600" class="mx-auto" src="/assets/1/text.png" alt="è¬›ç¾©è³‡æ–™" />

---
layout: center
---

# è»½ãå‰å›ã®å¾©ç¿’ğŸ“

---
layout: center
---

# GLSL ã®æ›¸ãæ–¹ã‚’è§£èª¬

<style>
h1 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
</style>

---

# é ‚ç‚¹ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ `shader.vert` ã®è§£èª¬

### ã¾ãšã¯ã‚³ãƒ¼ãƒ‰ã‚’å†æ²

```glsl
#ifdef GL_ES
precision highp float;
#endif

// attribute ä¿®é£¾å­ä»˜ã® vec3 å‹ã®å¤‰æ•°
// å„é ‚ç‚¹å€‹åˆ¥ã«åˆ¶å¾¡ã—ãŸã„æ™‚ã«åˆ©ç”¨
attribute vec3 aPosition;

// Cè¨€èªãªã‚‰ãŠãªã˜ã¿ã®mainé–¢æ•°
// ã‚·ã‚§ãƒ¼ãƒ€ã¯ã“ã®é–¢æ•°å†…ã«å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
void main() {
  // vec4 å‹ã®å¤‰æ•°
  vec4 positionVec4 = vec4(aPosition, 1.0);
  // è‰²ã‚“ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚Šã¾ã™ãŒï¼Œä»Šå›ã¯ï¼’æ¬¡å…ƒã®çµµã‚’æãã®ã§
  positionVec4.xy = positionVec4.xy * 2.0 - 1.0;
  gl_Position = positionVec4;
}
```

---

# é ‚ç‚¹ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ `shader.vert` ã®è§£èª¬

### â–¼ `#ifdef`, `#endif`
å³å¯†ã«ã¯ c++ ã®æ›¸ãæ–¹ã§ï¼Œ`GL_ES` ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹å ´åˆã«ä¸Šè¨˜ã®ï¼’ã¤ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ï¼ˆã¨è¨€ã£ãŸã‚Šã—ã¾ã™ï¼‰ã«æŒŸã¾ã‚Œã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å‡¦ç†ã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ï¼

<br />

### â–¼ `precision highp float;`

å…¨ä½“ã¨ã—ã¦å¤‰æ•°ã®å®šç¾©ã‚’ã—ã¦ãŠã‚Šï¼Œãã‚Œãã‚Œã®æ„å‘³ã¯ä»¥ä¸‹ã§ã™ï¼

* `precision`: æ•°å€¤æ¼”ç®—ã®ç²¾åº¦ã‚’è¡¨ã™
* `highp`: ç²¾åº¦ä¿®é£¾å­ï¼å¤‰æ•°ã®ç²¾åº¦ã‚’æŒ‡å®šï¼ˆã“ã®å ´åˆã¯é«˜ç²¾åº¦ï¼‰
  * `highp`, `mediump`, `lowp` ã®ï¼“ç¨®é¡
* `float`: æµ®å‹•å°æ•°ç‚¹å‹ã‚’æ„å‘³ã™ã‚‹

---

# é ‚ç‚¹ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ `shader.vert` ã®è§£èª¬

### â–¼ `attribute vec3 aPosition;`

ã“ã¡ã‚‰ã‚‚å¤‰æ•°ã®å®šç¾©ã‚’ã—ã¦ãŠã‚Šï¼Œãã‚Œãã‚Œã®æ„å‘³ã¯ä»¥ä¸‹ã§ã™ï¼

* `attribute`: ä¿®é£¾å­
  * `attribute`: JavaScript ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰ãƒãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã«é€ã‚‰ã‚Œã‚‹å„é ‚ç‚¹ãŒæŒã¤å¤‰æ•°
  * `uniform`: JavaScript ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰ã„ãšã‚Œã‹ã®ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã«é€ã‚‰ã‚Œã‚‹å…¨é ‚ç‚¹ã§ä¸€å¾‹ã®å¤‰æ•°
  * `varying`: ãƒãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã‹ã‚‰ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã«é€ã‚‰ã‚Œã‚‹å¤‰æ•°
* `vec3`: ãƒ‡ãƒ¼ã‚¿å‹ï¼ˆã“ã®å ´åˆã¯ï¼“æ¬¡å…ƒã®ãƒ™ã‚¯ãƒˆãƒ«å‹ï¼‰
* `aPosition`: å¤‰æ•°åï¼ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã®å¤‰æ•°ã¨ã‚«ã‚¹ã‚¿ãƒ å¤‰æ•°åã©ã¡ã‚‰ã‚‚æŒ‡å®šå¯
  * ã“ã‚Œä»¥å¤–ã«ï¼Œãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã®å®šæ•°ã‚‚å­˜åœ¨ã™ã‚‹

---

# æ³¨æ„

### GLSL 1.3 ã‹ã‚‰ `attribute`, `varying` ãŒéæ¨å¥¨ã«

* ç’°å¢ƒã«ã‚ˆã£ã¦ã¯ä½¿ç”¨ã™ã‚‹ã¨ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«
* å¤‰æ›´ç‚¹
  * ã‚·ã‚§ãƒ¼ãƒ€ã«å…¥ã£ã¦ãã‚‹ã‚‚ã®ï¼ˆ`attribute` ã‚„ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã‚·ã‚§ãƒ¼ãƒ€ã® `varying` å¤‰æ•°ï¼‰ã¯ `in` ã‚’ä½¿ã†
  * å‡ºã¦è¡Œãã‚‚ã®ï¼ˆé ‚ç‚¹ã‚·ã‚§ãƒ¼ãƒ€ã® `varying` å¤‰æ•°ã‚„ `gl_FragColor`ï¼‰ã¯ `out` ã‚’ä½¿ã†
* `gl_Position`ã€€ã‚„ã€€`gl_PointSize` ã¯å¤‰æ›´ãªã—
* ç¾æ™‚ç‚¹ã® `p5.js` ã® GLSL ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 1.2 ã®ãŸã‚ã“ã®ã¾ã¾åˆ©ç”¨

â€»å‚è€ƒãƒªãƒ³ã‚¯: [GLSL 1.50 è¨€èªä»•æ§˜](https://registry.khronos.org/OpenGL/specs/gl/GLSLangSpec.1.50.pdf)

---

# é ‚ç‚¹ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ `shader.vert` ã®è§£èª¬

### â–¼ `void main() {}`
ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã¯ `main()` é–¢æ•°å†…ã«å‡¦ç†ã‚’å®šç¾©ã—ã¾ã™

### â–¼ `gl_Position = positionVec4;`
é ‚ç‚¹åº§æ¨™ã‚’è¡¨ã™ `gl_Position` å¤‰æ•°ã«å®šç¾©ã—ãŸãƒ™ã‚¯ãƒˆãƒ«å¤‰æ•°ã‚’ã‚»ãƒƒãƒˆï¼`uniform` ã®å¤‰æ•°ã®ãŸã‚ï¼Œå…¨é ‚ç‚¹ä¸€å¾‹ã§åˆ¶å¾¡ã™ã‚‹ã“ã¨ã«æ³¨æ„ï¼

### â–¼ `vec*()` ãƒ¡ã‚½ãƒƒãƒ‰
*æ¬¡å…ƒã®ãƒ™ã‚¯ãƒˆãƒ«å¤‰æ•°ã‚’ç”Ÿæˆï¼Œ`*` ã¯2ã€œ4ã‚’æŒ‡å®šã—ã¾ã™ï¼

<br />

â€»ãã®ä»–ãŸãã•ã‚“ã®ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã®é–¢æ•°ã«ã¤ã„ã¦ã¯ [ã“ã¡ã‚‰ã®è¨˜äº‹](https://qiita.com/edo_m18/items/71f6064f3355be7e4f45) ãŒå‚è€ƒã«ãªã‚Šã¾ã™ğŸ’

---

# ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã‚·ã‚§ãƒ¼ãƒ€ `shader.frag` ã®è§£èª¬

### ã¾ãšã¯ã‚³ãƒ¼ãƒ‰ã‚’å†æ²

```glsl
#ifdef GL_ES
precision highp float;
#endif

// uniform ä¿®é£¾å­ä»˜ã® vec2 å‹ã®å¤‰æ•°
// å…¨é ‚ç‚¹ã«ä¸€å¾‹ã«å‡¦ç†ã—ãŸã„æ™‚ã«åˆ©ç”¨
uniform vec2 u_resolution;

void main() {
  // vec2 å‹ã®å¤‰æ•°
  vec2 uv = gl_FragCoord.xy / u_resolution.xy;
  vec3 color = vec3(uv, 1.0);

  gl_FragColor = vec4(color, 1.0);
}
```

---

# ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã‚·ã‚§ãƒ¼ãƒ€ `shader.frag` ã®è§£èª¬

### â–¼ `uniform vec2 u_resolution;`
è§£åƒåº¦ã‚’è¡¨ã™ã‚«ã‚¹ã‚¿ãƒ ã®ï¼’æ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ«å¤‰æ•° `u_resolution` ã‚’å®šç¾©ï¼æ…£ç¿’ã¨ã—ã¦é ­ã« `u` ã‚’ä»˜ã‘ã¦ã„ã¾ã™ãŒãªãã¦ã‚‚å•é¡Œãªã„ã§ã™ã—ï¼Œã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã§ã‚‚è‰¯ã„ã§ã™ï¼

<br />

### â–¼ `vec2 uv = gl_FragCoord.xy / u_resolution.xy;`
ä½•ç•ªç›®ã®ãƒ”ã‚¯ã‚»ãƒ«ã«ã„ã‚‹ã‹ã‚’è¡¨ã™ `gl_FragCoord.xy` ã‚’è§£åƒåº¦ã§å‰²ã‚‹ã“ã¨ã§ï¼Œ`vec2(0.0, 0.0)ã€œvec2(1.0, 1.0)` ã¾ã§ãƒ™ã‚¯ãƒˆãƒ«ã®æ­£è¦åŒ–ã‚’è¡Œã£ã¦ã„ã¾ã™ï¼ã“ã®å¾Œï¼Œã“ã®å€¤ã‚’ç”¨ã„ã¦ãƒ”ã‚¯ã‚»ãƒ«ã”ã¨ã®è‰²ã‚’æ±ºã‚ã¦ã„ã¾ã™ï¼

<br />

### â–¼ `gl_FragColor = vec4(color, 1.0);`
ãã‚Œãã‚Œã®ãƒ”ã‚¯ã‚»ãƒ«ã®ã‚«ãƒ©ãƒ¼ã‚’æŒ‡å®šã—ï¼Œ`gl_FragColor` å¤‰æ•°ã«ã‚»ãƒƒãƒˆã—ã¾ã™ï¼


---
layout: center
---

# å‰å›ã¯è»½ãå‰ã€…å›ã®ã‚³ãƒ¼ãƒ‰ã‚’æ”¹é€ ã—ã¦éŠã³ã¾ã—ãŸğŸ’

---

# ã“ã‚“ãªæ„Ÿã˜ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³â‘ 

<video src="/assets/18/shader-sample1.mp4" controls width="600" class="mt-8 mx-auto"></video>

---

# ã“ã‚“ãªæ„Ÿã˜ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³â‘ 

<video src="/assets/18/shader-sample2.mp4" controls width="600" class="mt-8 mx-auto"></video>

---
layout: center
---

# ã§ã¯ï¼Œæœ¬æ—¥ã®æˆæ¥­ã¸GO ğŸš€


---
layout: center
---

# è‰²ã‚“ãªä½œå“ã®ã‚³ãƒ¼ãƒ‰ã‚’è§£æã—ã¦ã¿ã‚ˆã†ğŸ™‹

<style>
h1 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
</style>

---
layout: center
---

# ï¼‘ä½œå“ç›®ğŸ¨
---

# ä½œå“ã‚­ãƒ£ãƒ—ãƒãƒ£

<img src="/assets/17/twigl_app.png" alt="twigl.app ã‚µã‚¤ãƒˆã®ã‚­ãƒ£ãƒ—ãƒãƒ£" class="mx-auto" width="700" />

<p class="text-right">
ç”»åƒå¼•ç”¨: <a href="https://twigl.app" target="_blank" noreferrer>twigl.app</a>
</p>

---

# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

__sketch.js__

```js
let myShader;

function preload() {
  myShader = loadShader("shader.vert", "shader.frag");
}

function setup() {
  createCanvas(windowWidth, windowHeight, WEBGL);
  noStroke();
  pixelDensity(1);
}

function draw() {
  shader(myShader);
  myShader.setUniform("resolution", [width, height]);
  // å¾Œè¿°ã—ã¾ã™ãŒï¼Œã“ã“ã§å€¤ã‚’ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã«æ¸¡ã—ã¦ã„ã¾ã™
  myShader.setUniform("time", frameCount / 50);

  rect(0, 0, width, height);
}
```

---

# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

__shader.vert__

```glsl
precision highp float;

attribute vec3 aPosition;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  positionVec4.xy = positionVec4.xy * 2.0 - 1.0;
  gl_Position = positionVec4;
}
```

---

# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

__shader.frag__

```glsl
precision highp float;

uniform vec2 resolution;
uniform float time;

void main() {
  // vec2(-1.0, -1.0)ã€œvec2(1.0, 1.0) ã«æ­£è¦åŒ–ã—ãŸå¾Œï¼Œè§£åƒåº¦ã§å‰²ã‚‹ã“ã¨ã§ç”»é¢ã®ç¸¦æ¨ªæ¯”ã‚’1:1ã«å¤‰æ›
  vec2 p = (gl_FragCoord.xy * 2.0 - resolution) / min(resolution.x, resolution.y);
  for (int i = 0; i < 6; ++i) {
    p.xy = abs(p) / abs(dot(p, p)) - vec2(0.9 + cos(time * 0.2) * 0.4);
  }
  gl_FragColor = vec4(p.xxy, 1.0);

  // ä»¥ä¸‹ã®ã‚ˆã†ã«ï¼Œä¸€åº¦ vec3 ã‚’ç”¨ã„ã¦ï¼“æ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ«ã«ã—ã¦ã‹ã‚‰ã‚»ãƒƒãƒˆã—ã¦ã‚‚è‰¯ã„
  gl_FragColor = vec4(vec3(p, 1.0), 1.0);

  // ä»¥ä¸‹ã®ã‚ˆã†ã«è‰²ã€…ã‚«ãƒ©ãƒ¼ã‚’å¤‰ãˆã¦ã‚‚ç¶ºéº—
  gl_FragColor = vec4(p.xxy, 1.0);
  gl_FragColor = vec4(p.xyx, 1.0);
}
```

---
layout: center
---

# ï¼’ä½œå“ç›®ğŸ¨

---

# ä½œå“ã‚­ãƒ£ãƒ—ãƒãƒ£

<img src="/assets/17/shader_practice3.png" alt="twigl.app ã‚µã‚¤ãƒˆã®ã‚­ãƒ£ãƒ—ãƒãƒ£" class="mx-auto" width="560" />

<p class="text-right">
ç”»åƒå¼•ç”¨: <a href="https://p5js.org/examples/3d-shader-as-a-texture.html" target="_blank" noreferrer>p5.js å…¬å¼ã‚µãƒ³ãƒ—ãƒ«</a>
</p>

---

# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

__sketch.js__

```js

 let theShader;
 let shaderTexture;

 let theta = 0;

 let x;
 let y;
 let outsideRadius = 200;
 let insideRadius = 100;

 function preload(){
   theShader = loadShader('shader.vert','shader.frag');
 }
 ï¼ˆç¶šãï¼‰
```

---

# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

__sketch.js__

```js
ï¼ˆç¶šãï¼‰
 function setup() {
   createCanvas(710, 400, WEBGL);
   noStroke();

   shaderTexture = createGraphics(710, 400, WEBGL);

   shaderTexture.noStroke();

    x = -50;
    y = 0;
 }

 function draw() {
   shaderTexture.shader(theShader);

   theShader.setUniform("resolution", [width, height]);
   theShader.setUniform("time", millis() / 1000.0);
   theShader.setUniform("mouse", [mouseX, map(mouseY, 0, height, height, 0)]);

   shaderTexture.rect(0, 0, width, height);

   background(255);
   ï¼ˆç¶šãï¼‰
```

---

# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

__sketch.js__

```js
ï¼ˆç¶šãï¼‰
   texture(shaderTexture);

   translate(-150, 0, 0);
   push();
   rotateZ(theta * mouseX * 0.0001);
   rotateX(theta * mouseX * 0.0001);
   rotateY(theta * mouseX * 0.0001);
   theta += 0.05;
   sphere(125);
   pop();

   ellipse(260, 0, 200, 200, 100);
 }

```

---

# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

__shader.vert__

```glsl
attribute vec3 aPosition;

void main() {

  vec4 positionVec4 = vec4(aPosition, 1.0);
  positionVec4.xy = positionVec4.xy * 2.0 - 1.0;

  gl_Position = positionVec4;
}
```

---

# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

__shader.frag__

```glsl
precision mediump float;
#endif

#define PI 3.14159265358979323846

uniform vec2 resolution;
uniform float time;
uniform vec2 mouse;

vec2 rotate2D (vec2 _st, float _angle) {
    _st -= 0.5;
    _st =  mat2(cos(_angle),-sin(_angle),
                sin(_angle),cos(_angle)) * _st;
    _st += 0.5;
    return _st;
}

vec2 tile (vec2 _st, float _zoom) {
    _st *= _zoom;
    return fract(_st);
}
```

---

# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

```glsl
vec2 rotateTilePattern(vec2 _st){
    _st *= 2.0;

    float index = 0.0;
    index += step(1., mod(_st.x,2.0));
    index += step(1., mod(_st.y,2.0))*2.0;

    // Make each cell between 0.0 - 1.0
    _st = fract(_st);

    // Rotate each cell according to the index
    if(index == 1.0){
        //  Rotate cell 1 by 90 degrees
        _st = rotate2D(_st,PI*0.5);
    } else if(index == 2.0){
        //  Rotate cell 2 by -90 degrees
        _st = rotate2D(_st,PI*-0.5);
    } else if(index == 3.0){
        //  Rotate cell 3 by 180 degrees
        _st = rotate2D(_st,PI);
    }

    return _st;
}
```

---

# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

__shader.frag__

```glsl
float concentricCircles(in vec2 st, in vec2 radius, in float res, in float scale) {
    float dist = distance(st,radius);
    float pct = floor(dist*res)/scale;
    return pct;
}

void main (void) {
    vec2 st = gl_FragCoord.xy/resolution.xy;
    vec2 mst = gl_FragCoord.xy/mouse.xy;
    float mdist= distance(vec2(1.0,1.0), mst);

    float dist = distance(st,vec2(sin(time/10.0),cos(time/10.0)));
    st = tile(st,10.0);

    st = rotate2D(st,dist/(mdist/5.0)*PI*2.0);

    gl_FragColor = vec4(
      vec3(concentricCircles(st, vec2(0.0,0.0), 5.0, 5.0),
      concentricCircles(st, vec2(0.0,0.0), 10.0, 10.0),
      concentricCircles(st, vec2(0.0,0.0), 20.0, 10.0)),
      1.0
    );
}
```

---
layout: center
---

# twigle.app ã¨ã„ã†ã‚µã‚¤ãƒˆã§éŠã‚“ã§ã¿ã‚ˆã†

<style>
h1 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
}
</style>

---

# ã‚¢ã‚¯ã‚»ã‚¹

<img src="/assets/17/twigl_app2.png" alt="twigl.app ã‚µã‚¤ãƒˆã®ã‚­ãƒ£ãƒ—ãƒãƒ£" class="mx-auto" width="700" />

<p class="text-right">
ç”»åƒå¼•ç”¨: <a href="https://twigl.app" target="_blank" noreferrer>twigl.app</a>
</p>

---

# å‚è€ƒè¨˜äº‹

<img src="/assets/17/glsl_challenge.png" alt="" class="mx-auto" width="720" />

ç”»åƒå¼•ç”¨: [GLSLæœ€çŸ­ãƒãƒ£ãƒ¬ãƒ³ã‚¸ #ã¤ã¶ã‚„ãGLSL](https://zenn.dev/yuji_ap/articles/7f7f0cfd589bad)

---
layout: center
---

## æ¬¡å›ã¯ï¼Œä¹…ã—æŒ¯ã‚Šã«è‰²ã‚“ãªæ–¹ã®ä½œå“ã‚’ãƒˆãƒ¬ãƒ¼ã‚¹ã—ã¦ã¿ã¾ã—ã‚‡ã†ğŸ™‹

<style>
h2 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
  background-size: 100%;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: transparent;
  -moz-text-fill-color: transparent;
  text-align: center;
}
</style>
